{
  "hash": "c11bc2526a8bf8fcfad619df3a03154f",
  "result": {
    "markdown": "---\ntitle: \"Blog Post 4\"\nauthor: \"Team\"\ndate: \"2024-04-08\"\ndate-modified: \"2024-04-08\"\ndraft: FALSE\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load necessary libraries\nsuppressPackageStartupMessages(library(tidyverse))\nsuppressPackageStartupMessages(library(ggplot2))\nsuppressPackageStartupMessages(library(ggcorrplot))\nsuppressPackageStartupMessages(library(GGally))\nsuppressPackageStartupMessages(library(readr))\nsuppressPackageStartupMessages(library(dplyr))\nsuppressPackageStartupMessages(library(lubridate))\n\n# Read the dataset\ndata <- readRDS(\"dataset/nypd_shooting_clean.rds\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Convert 'OCCUR_DATE' to datetime format\ndata <- data %>%\n  mutate(OCCUR_DATE = dmy(OCCUR_DATE), \n         OCCUR_YEAR = year(OCCUR_DATE))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `OCCUR_DATE = dmy(OCCUR_DATE)`.\nCaused by warning:\n!  1017 failed to parse.\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nprep_race_counts <- data |>\n  count(PERP_RACE) |>\n  arrange(desc(n))\n\nggplot(prep_race_counts, aes(x = reorder(PERP_RACE, n), y = n, fill = PERP_RACE)) + \n  geom_bar(stat = \"identity\") +\n  theme_minimal() +\n  labs(title = \"Perpetrator Race Distribution\", x = \"Perpetrator Race\", y = \"Count\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nWe created a bar chart to analyze the perpetrator’s race, a key variable of interest for later investigation in our project. The chart revealed approximately 600 missing (null) values for this variable, indicating a potential challenge that requires our attention.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate proportions Blog Post 4\nproportions <- data %>%\n  group_by(PERP_RACE) %>%\n  summarise(Proportion = mean(STATISTICAL_MURDER_FLAG == \"TRUE\", na.rm = TRUE))\n\n# Create the plot\nggplot(proportions, aes(x = PERP_RACE, y = Proportion, fill = PERP_RACE)) +\n  geom_bar(stat = \"identity\") +\n  theme_minimal() +\n  labs(title = \"Proportion of Incidents Classified as Statistical Murders by Perpetrator Race\",\n       x = \"Perpetrator Race\",\n       y = \"Proportion\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmod1 <- glm(\n  STATISTICAL_MURDER_FLAG ~ PERP_RACE + PERP_AGE_GROUP + PERP_SEX,\n  data = data, \n  family = \"binomial\"\n)\nmod1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:  glm(formula = STATISTICAL_MURDER_FLAG ~ PERP_RACE + PERP_AGE_GROUP + \n    PERP_SEX, family = \"binomial\", data = data)\n\nCoefficients:\n                      (Intercept)  PERP_RACEASIAN / PACIFIC ISLANDER  \n                        -1.737692                           1.446710  \n                   PERP_RACEBLACK            PERP_RACEBLACK HISPANIC  \n                         1.017721                           1.337634  \n                   PERP_RACEWHITE            PERP_RACEWHITE HISPANIC  \n                         0.777739                           1.097492  \n                PERP_AGE_GROUP<18                PERP_AGE_GROUP18-24  \n                        -0.931793                          -0.630785  \n              PERP_AGE_GROUP25-44                PERP_AGE_GROUP45-64  \n                        -0.555683                           0.132840  \n                PERP_AGE_GROUP65+                          PERP_SEXF  \n                               NA                          -0.007563  \n                        PERP_SEXM  \n                               NA  \n\nDegrees of Freedom: 1705 Total (i.e. Null);  1695 Residual\nNull Deviance:\t    1698 \nResidual Deviance: 1669 \tAIC: 1691\n```\n:::\n:::\n\n\nWe made a logistic model using murder statistics as y variable and PERP_RACE, PERP_AGE_GROUP, and PERP_SEX as predictors. And based on the bar plot above, Asian/pacific islander has the largest proportion of Incidents Classified as Statistical Murders by Perpetrator Race.",
    "supporting": [
      "blog-post-4_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}