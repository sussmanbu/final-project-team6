[
  {
    "objectID": "data.html#data-background",
    "href": "data.html#data-background",
    "title": "Data",
    "section": "Data Background",
    "text": "Data Background\n\nNYPD Shooting Incident Data\nThis dataset encompasses a detailed account of each shooting incident in NYC from 2006 up until the end of the last calendar year. Compiled and meticulously reviewed quarterly by the Office of Management Analysis and Planning, it is then made accessible on the NYPD website. Every entry in this dataset chronicles a specific shooting event, detailing the incident’s circumstances, location, and timing. Additionally, it provides demographics regarding suspects and victims.\nThe data set primarily focuses on shooting incidents within New York, so it inherently limits the possibility of generalizing our findings to other locations. The age is categorized by ranges, such as 18-24, 25-44, and 45-64, which may reduce the precision of our analysis. Without a more detailed record of the shooting incidents, we do not know the number of perpetrators and victims. The lack of a detailed understanding of the level of severity of the incidents may cause bias in our analysis.\nLink to the data: NYPD Police Shootings\n\n\nNYPD Arrest Data (Combined Data)\nExploring potential relationships between shooting incidents across each borough in NYC, this dataset provides the offense types and the policy description for each shooting incident. By merging these datasets, we can analyze comprehensive details surrounding each incident, including the types of offenses and the corresponding police actions. This approach not only enhances the depth of the data but also supports a more robust statistical analysis to better understand the dynamics of crime and law enforcement responses in New York City.\nLink to the data: NYPD Arrest Data\n\n\nNYC Payroll Data\nThis dataset gives the information of the average basic salary for each borough in NYC. Incorporating the dataset detailing the average base salary for each borough in NYC into our analysis offers a valuable dimension to understanding the socio-economic context of shooting incidents. By examining the relationship between economic factors and crime rates across different boroughs, we can explore whether disparities in income levels correlate with variations in shooting incidents. This combined approach allows us to investigate not just the geographic distribution of crime, but also how economic conditions might influence criminal activities.\nLink to the data: Payroll Data 2022"
  },
  {
    "objectID": "data.html#data-loading-and-cleaning",
    "href": "data.html#data-loading-and-cleaning",
    "title": "Data",
    "section": "Data Loading and Cleaning",
    "text": "Data Loading and Cleaning\n\nsource(\n  \"scripts/load_and_clean_data.R\", echo = FALSE)\n\n\nlibrary(tidyverse)\n\n# Read the dataset\nNYPD_data &lt;- read_csv(\"dataset/NYPD_Shooting_Incident_Data__Historic__20240322.csv\")\n\nNYPD_clean_data &lt;- NYPD_data %&gt;%\n  select(-c(OCCUR_TIME, LOC_OF_OCCUR_DESC)) %&gt;%\n  filter(!is.na(PERP_RACE) & !is.na(VIC_RACE)) %&gt;%\n  mutate(OCCUR_DATE = dmy(OCCUR_DATE), \n         OCCUR_YEAR = year(OCCUR_DATE))\n\n\nCleaning Process\n\nRemoved the OCCUR_TIME and LOC_OF_OCCUR_DESC as we did not find them useful for our analysis.\nChanged ‘OCCUR_DATE’ to DateTime format.\nRemoved observations with missing perpetrator race or victim race."
  },
  {
    "objectID": "data.html#combining-datasets",
    "href": "data.html#combining-datasets",
    "title": "Data",
    "section": "Combining Datasets",
    "text": "Combining Datasets\nThe NYPD_Arrest_data dataset can be combined with the NYPD_Shooting_incident dataset as we plan to analyze if there is a relationship between location-based shooting incidents and arrests. The two datasets are combined by using location and crime information (X_COORD_CD, Y_COORD_CD, Latitude, Longitude and JURISDICTION_CODE). PERP_RACE is also used in combination to ensure that two data sets correspond.\n\nNYPD_arrest_data &lt;- readRDS(\"dataset/nypd_arrest.rds\")\ncombined_df &lt;- merge(NYPD_clean_data, NYPD_arrest_data, by = c(\"X_COORD_CD\", \"Y_COORD_CD\",\"Latitude\",\"Longitude\",\"PERP_SEX\",\"JURISDICTION_CODE\",\"PERP_RACE\"))\n\n\nOther Dataset Used in the Project Analysis\nNew York City wage data were also considered useful in examining the correlation of gun crime data with wage information. This data was used to create a map showing the relationship between crime rates and average salaries.\n\nnypd_payroll &lt;- readRDS(\"dataset/nypd_payroll.rds\")"
  },
  {
    "objectID": "data.html#summary-of-the-dataset-structure-and-key-statistics",
    "href": "data.html#summary-of-the-dataset-structure-and-key-statistics",
    "title": "Data",
    "section": "Summary of the Dataset Structure and Key Statistics",
    "text": "Summary of the Dataset Structure and Key Statistics\nWe will concentrate our analysis on examining potential differences among NYC boroughs in shooting crime incidents, focusing specifically on the interplay between the perpetrator’s and victim’s information, including their race, age, sex, in conjunction with offense types and other possible crucial factors.\n\nLocation Data: There are multiple columns related to the location of the incidents, such as BORO, PRECINCT, X_COORD_CD, Y_COORD_CD, Latitude, and Longitude.\nIncident Details: Includes details like OFNS_DESC, LOC_CLASSFCTN_DESC (Location Classification Description), and LOCATION_DESC.\nPerpetrator and Victim Information: Information on the perpetrator (PERP_AGE_GROUP, PERP_SEX, PERP_RACE) and victim (VIC_AGE_GROUP, VIC_SEX, VIC_RACE) is available.\nStatistical Flags: Includes a flag for statistical murders (STATISTICAL_MURDER_FLAG)\n\nHere are the visual summarization of the two most relevant variables:\nUnderstanding the racial distribution of perpetrators can be an important factor when analyzing crime data by borough, especially considering the demographic composition of each borough.\n\n\n\n\n\nGiving the distribution of shooting crime incidents by Borough can help determine which statistical model to use."
  },
  {
    "objectID": "data.html#additional-r-packages",
    "href": "data.html#additional-r-packages",
    "title": "Data",
    "section": "Additional R Packages",
    "text": "Additional R Packages\nOverall, the following new R packages were used in the making of this project:\n\nrandomForest: Conduct Random Forest Model.\ncaret: Construct Multinomial Logistic Regression Model.\nnnet: Used for statistical model.\nknitr: Used to produce table in analysis."
  },
  {
    "objectID": "analysis.html#section-1.1-perpetrator-information",
    "href": "analysis.html#section-1.1-perpetrator-information",
    "title": "Analysis",
    "section": "Section 1.1: Perpetrator Information",
    "text": "Section 1.1: Perpetrator Information\n\nGiven the proportional distribution of perpetrator race by borough, it is clear that the proportions of each race appear to vary across boroughs, suggesting differences in the racial distribution of perpetrators across New York City. Digging into each borough, the majority racial group among perpetrators is Black, followed by significant proportions of White Hispanics. Asian/Pacific Islander groups make up a relatively small share of perpetrators in each borough. Analysis across offender ethnicity and boroughs helps to understand crime-related demographic patterns in different urban areas, which is critical for targeted social and policing policies."
  },
  {
    "objectID": "analysis.html#section-1.2-victim-information",
    "href": "analysis.html#section-1.2-victim-information",
    "title": "Analysis",
    "section": "Section 1.2: Victim Information",
    "text": "Section 1.2: Victim Information\n\nBased on the proportional distribution of victim race by borough, it is evident that the proportions of each race appear to vary across boroughs, suggesting differences in the racial distribution of victims across New York City. The racial distribution of victims is more dispersed compared to the racial distribution of perpetrators across boroughs. The victim race can be a crucial factor in understanding and predicting crime in different boroughs of New York City, as it might reflect underlying patterns of victimization related to social, economic, and possibly racial dynamics within these areas."
  },
  {
    "objectID": "analysis.html#section-1.3-average-salary-by-nyc-borough",
    "href": "analysis.html#section-1.3-average-salary-by-nyc-borough",
    "title": "Analysis",
    "section": "Section 1.3: Average Salary by NYC Borough",
    "text": "Section 1.3: Average Salary by NYC Borough\nThe map explore the average salary distribution across the five boroughs of New York City (NYC). Utilizing a map, the plot highlights spatial variations in average salary levels across different boroughs, with color intensity indicating salary magnitudes. This spatial perspective offers valuable insights into geographic disparities in salary distribution within NYC, providing a comprehensive understanding of economic dynamics across its diverse neighborhoods. It is easy to visualize the disparity of income levels in NYC, such as the vast disparity between the Borough Brooklyn and Manhattan."
  },
  {
    "objectID": "analysis.html#section-1.4-murder-rate",
    "href": "analysis.html#section-1.4-murder-rate",
    "title": "Analysis",
    "section": "Section 1.4: Murder Rate",
    "text": "Section 1.4: Murder Rate\nThe bar chart illustrates the murder rates as percentages for each borough. It’s noticeable that the Bronx and Staten Island exhibit the highest murder rates. The murder rate is a significant indicator because it reflects the frequency of violent crimes within a community. Understanding the murder rate is vital for predicting where shooting crime incidents are more likely to occur, which in turn is essential for prioritizing law enforcement resources, improving public safety measures, and implementing preventative programs. High murder rates in certain boroughs might suggest the need for increased police presence and other interventions aimed at violence reduction. Conversely, boroughs with lower rates can provide which policies or social structures may be contributing to a safer environment. Understanding these patterns are critical steps towards effective crime prevention and ensuring the safety and well-being of the residents."
  },
  {
    "objectID": "analysis.html#section-2.1-multinomial-regression-model",
    "href": "analysis.html#section-2.1-multinomial-regression-model",
    "title": "Analysis",
    "section": "Section 2.1: Multinomial Regression Model",
    "text": "Section 2.1: Multinomial Regression Model\nThe first model is the Multinomial Logistic Regression since the model needs to account for the fact that the target variable (Borough) has 5 classes. However, the model only gave an accuracy of 56%, which does not meet the expectation. Because the distribution of shooting crime incidents in each borough from the dataset is uneven, this limitation of the dataset makes the 56% accuracy even more unsatisfactory for the prediction model.\n\n\n\nConfusion Matrix\n\n\n\nBRONX\nBROOKLYN\nMANHATTAN\nQUEENS\nSTATEN ISLAND\n\n\n\n\nBRONX\n79\n24\n23\n4\n1\n\n\nBROOKLYN\n18\n75\n38\n10\n1\n\n\nMANHATTAN\n10\n34\n80\n17\n3\n\n\nQUEENS\n6\n3\n1\n13\n0\n\n\nSTATEN ISLAND\n0\n0\n0\n0\n3\n\n\n\n\n\n[1] \"Accuracy %: 56.4334085778781\""
  },
  {
    "objectID": "analysis.html#section-2.2-random-forest",
    "href": "analysis.html#section-2.2-random-forest",
    "title": "Analysis",
    "section": "Section 2.2: Random Forest",
    "text": "Section 2.2: Random Forest\nThe second statistical model is the Random Forest model. The same training and testing data were applied to the random forest to ensure that the results of the model were meaningful. The significance of creating this model is to consider that this model can accommodate the constraint of uneven distribution of data in each borough.\n\n\n\n\n\n\n\n[1] \"Accuracy %: 83.2957110609481\"\n\n\nThis plot shows the error rate of the Random Forest model decreases as the number of trees increases. Each line in the plot represents the error for a different type of prediction task. Under this model, those different lines represent the error rate for various classes within the target variable (Borough).\nRandom forest gives an accuracy of 83% which is much better. However, due to the data having most of the offenses in a small subset of the boroughs, the model is biased and does not have sufficient data for the other boroughs like Staten Island to predict it. It is also impossible to predict exactly because of the many variables that need to be considered for completely accurate predictions.\nAn accuracy of 84% is still good however to show that these variables do in fact impact which Borough the crime takes place in and these Boroughs have income levels correlated with them as we can see in Section 1.4 above."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "MA [46]15 Final Project",
    "section": "",
    "text": "Team 6 Boston University\n\n\n\n\n\n\n\n\n\n  \n\n\n\n\nBlog Post 7 - Thesis & Visualization\n\n\n\n\n\n\n\n\n\n\n\n\nApr 26, 2024\n\n\nTeam 6\n\n\n\n\n\n\n  \n\n\n\n\nBlog Post 6 - EDA & Statistical Model\n\n\n\n\n\n\n\n\n\n\n\n\nApr 22, 2024\n\n\nTeam 6\n\n\n\n\n\n\n  \n\n\n\n\nBlog Post 5 - Combine Dataset\n\n\n\n\n\n\n\n\n\n\n\n\nApr 12, 2024\n\n\nTeam 6\n\n\n\n\n\n\n  \n\n\n\n\nBlog Post 4 - EDA\n\n\n\n\n\n\n\n\n\n\n\n\nApr 8, 2024\n\n\nTeam\n\n\n\n\n\n\n  \n\n\n\n\nBlog Post 3 - Data Loading and Cleaning\n\n\n\n\n\n\n\n\n\n\n\n\nApr 1, 2024\n\n\nTeam 6\n\n\n\n\n\n\n  \n\n\n\n\nBlog Post 2 - Data Background & Data for Equity\n\n\n\n\n\n\n\n\n\n\n\n\nMar 25, 2024\n\n\nTeam 6\n\n\n\n\n\n\n  \n\n\n\n\nBlog Post 1 - Dataset Exploration\n\n\n\n\n\n\n\n\n\n\n\n\nFeb 28, 2024\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/2024-04-26-blog-post-7/blog-post-7.html",
    "href": "posts/2024-04-26-blog-post-7/blog-post-7.html",
    "title": "Blog Post 7 - Thesis & Visualization",
    "section": "",
    "text": "Our objective is to unveil the intersection of poverty, race, and policing in NYC.\nIn New York City, there exists a significant correlation between low-income areas, predominantly black populations, and elevated rates of both arrests and police-involved shootings. Through an exploration of key datasets encompassing NYPD shooting incidents, payroll information, and arrest records, this analysis sheds light on the complex dynamics at play within the city’s socio-economic and racial landscape."
  },
  {
    "objectID": "posts/2024-04-26-blog-post-7/blog-post-7.html#tentative-thesis",
    "href": "posts/2024-04-26-blog-post-7/blog-post-7.html#tentative-thesis",
    "title": "Blog Post 7 - Thesis & Visualization",
    "section": "",
    "text": "Our objective is to unveil the intersection of poverty, race, and policing in NYC.\nIn New York City, there exists a significant correlation between low-income areas, predominantly black populations, and elevated rates of both arrests and police-involved shootings. Through an exploration of key datasets encompassing NYPD shooting incidents, payroll information, and arrest records, this analysis sheds light on the complex dynamics at play within the city’s socio-economic and racial landscape."
  },
  {
    "objectID": "posts/2024-04-26-blog-post-7/blog-post-7.html#polish-our-visualization",
    "href": "posts/2024-04-26-blog-post-7/blog-post-7.html#polish-our-visualization",
    "title": "Blog Post 7 - Thesis & Visualization",
    "section": "Polish Our Visualization",
    "text": "Polish Our Visualization\nWe added titles, annotations, and highlights to the plots."
  },
  {
    "objectID": "posts/2024-04-01-third-blog-post/third-blog-post.html",
    "href": "posts/2024-04-01-third-blog-post/third-blog-post.html",
    "title": "Blog Post 3 - Data Loading and Cleaning",
    "section": "",
    "text": "Summary of the Dataset structure and some key statistics:\n\nTotal Entries: 1,706 incidents.\nDate Range: The dataset includes an OCCUR_DATE column, suggesting the dates on which incidents occurred.\nLocation Data: There are multiple columns related to the location of the incidents, such as BORO, PRECINCT, X_COORD_CD, Y_COORD_CD, Latitude, and Longitude.\nIncident Details: Includes details like JURISDICTION_CODE, LOC_CLASSFCTN_DESC (Location Classification Description), and LOCATION_DESC.\nPerpetrator and Victim Information: Information on the perpetrator (PERP_AGE_GROUP, PERP_SEX, PERP_RACE) and victim (VIC_AGE_GROUP, VIC_SEX, VIC_RACE) is available.\nStatistical Flags: Includes a flag for statistical murders (STATISTICAL_MURDER_FLAG).\n\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(GGally)\n\nRegistered S3 method overwritten by 'GGally':\n  method from   \n  +.gg   ggplot2\n\nlibrary(ggplot2)\nlibrary(corrplot)\n\ncorrplot 0.92 loaded\n\nlibrary(ggcorrplot)\ndata &lt;- readRDS(\"dataset/nypd_shooting_clean.rds\")\nggplot(data, aes(x = PERP_RACE, fill = PERP_RACE)) + \n  geom_bar() +\n  theme(axis.text.x = element_text(angle = 45, vjust = 0.5, hjust=0.5))"
  },
  {
    "objectID": "posts/2024-04-22-blog-post-6/blog-post-6.html",
    "href": "posts/2024-04-22-blog-post-6/blog-post-6.html",
    "title": "Blog Post 6 - EDA & Statistical Model",
    "section": "",
    "text": "Added a new dataset with Payroll information and we used this data to explore how in different boroughs of New York City, we found relationships between arrests, race, and pay range. We also used a logistic regression model to predict if there was a murder or not.\nWhile exploring the data we found that the areas with lower income, had the highest White Hispanic and Black populations."
  },
  {
    "objectID": "posts/2024-03-25-second-post/second-post.html",
    "href": "posts/2024-03-25-second-post/second-post.html",
    "title": "Blog Post 2 - Data Background & Data for Equity",
    "section": "",
    "text": "Data Background\nThis dataset encompasses a detailed account of each shooting incident in NYC from 2006 up until the end of the last calendar year. Compiled and meticulously reviewed quarterly by the Office of Management Analysis and Planning, it is then made accessible on the NYPD website. Every entry in this dataset chronicles a specific shooting event, detailing the incident’s circumstances, location, and timing. Additionally, it provides demographics regarding suspects and victims. We are able to download the dataset from the original source.\nThe data might be biased as it is based only on New York. It might not be able to reflect the circumstances of shootings and the characteristics of shooters in a broader setting. Besides, the age is categorized by ranges, such as 18-24, 25-44, and 45-64, which might not be clear and specific enough. Without a more detailed record of the shooting incidents, we do not know the number of perpetrators and victims. The lack of a detailed understanding of the level of severity of the incidents may cause bias in our analysis.\nThe data has been used on another capstone project, “Phantom Shootings,” by Allan Ambris, The Graduate Center, City University of New York. This data is used to prove the author’s statement that the data NYPD reported is just a subset of the true dataset. The author asks whether a single victim may appear in many entries. (Ambris) Ambris, Allan. “Phantom Shootings.” CUNY Academic Works, academicworks.cuny.edu/gc_etds/5410/. Accessed 25 Mar. 2024.\n\n\nData for Equity\nThe Belmont Report’s principles of beneficence, respect for persons, and justice offer a robust ethical framework for handling data in ways that can significantly impact individuals and communities. Integrating these principles into the management and analysis of NYPD Shooting Incident Data can advance more equitable data practices, ensuring that this information is used responsibly and ethically.\nThe principle of respect for persons entails treating individuals as autonomous agents and protecting those with diminished autonomy. In the context of NYPD Shooting Incident Data, respect for persons means ensuring that the data does not unjustly stigmatize individuals or communities. Adhering to this principle, the dataset anonymized data, carefully handling data to remove or obfuscate any personally identifiable information to protect individuals’ privacy and dignity.\nThe principle of beneficence also applied to the NYPD Shooting Incident Data. Beneficence requires that the data practices minimize harm and maximize benefits. In the context of NYPD Shooting Incident Data, this principle underscores the importance of using the data to improve community safety, inform policy changes, and enhance police practices to prevent unnecessary violence."
  },
  {
    "objectID": "posts/2024-04-08-blog-post-4/blog-post-4.html",
    "href": "posts/2024-04-08-blog-post-4/blog-post-4.html",
    "title": "Blog Post 4 - EDA",
    "section": "",
    "text": "# Load necessary libraries\nsuppressPackageStartupMessages(library(tidyverse))\nsuppressPackageStartupMessages(library(ggplot2))\nsuppressPackageStartupMessages(library(ggcorrplot))\nsuppressPackageStartupMessages(library(GGally))\nsuppressPackageStartupMessages(library(readr))\nsuppressPackageStartupMessages(library(dplyr))\nsuppressPackageStartupMessages(library(lubridate))\n\n# Read the dataset\ndata &lt;- readRDS(\"dataset/nypd_shooting_clean.rds\")\n\n\n# Convert 'OCCUR_DATE' to datetime format\ndata &lt;- data %&gt;%\n  mutate(OCCUR_DATE = dmy(OCCUR_DATE), \n         OCCUR_YEAR = year(OCCUR_DATE))\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `OCCUR_DATE = dmy(OCCUR_DATE)`.\nCaused by warning:\n!  1017 failed to parse.\n\n\n\nprep_race_counts &lt;- data |&gt;\n  count(PERP_RACE) |&gt;\n  arrange(desc(n))\n\nggplot(prep_race_counts, aes(x = reorder(PERP_RACE, n), y = n, fill = PERP_RACE)) + \n  geom_bar(stat = \"identity\") +\n  theme_minimal() +\n  labs(title = \"Perpetrator Race Distribution\", x = \"Perpetrator Race\", y = \"Count\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\nWe created a bar chart to analyze the perpetrator’s race, a key variable of interest for later investigation in our project. The chart revealed approximately 600 missing (null) values for this variable, indicating a potential challenge that requires our attention.\n\n# Calculate proportions Blog Post 4\nproportions &lt;- data %&gt;%\n  group_by(PERP_RACE) %&gt;%\n  summarise(Proportion = mean(STATISTICAL_MURDER_FLAG == \"TRUE\", na.rm = TRUE))\n\n# Create the plot\nggplot(proportions, aes(x = PERP_RACE, y = Proportion, fill = PERP_RACE)) +\n  geom_bar(stat = \"identity\") +\n  theme_minimal() +\n  labs(title = \"Proportion of Incidents Classified as Statistical Murders by Perpetrator Race\",\n       x = \"Perpetrator Race\",\n       y = \"Proportion\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nmod1 &lt;- glm(\n  STATISTICAL_MURDER_FLAG ~ PERP_RACE + PERP_AGE_GROUP + PERP_SEX,\n  data = data, \n  family = \"binomial\"\n)\nmod1\n\n\nCall:  glm(formula = STATISTICAL_MURDER_FLAG ~ PERP_RACE + PERP_AGE_GROUP + \n    PERP_SEX, family = \"binomial\", data = data)\n\nCoefficients:\n                      (Intercept)  PERP_RACEASIAN / PACIFIC ISLANDER  \n                        -1.737692                           1.446710  \n                   PERP_RACEBLACK            PERP_RACEBLACK HISPANIC  \n                         1.017721                           1.337634  \n                   PERP_RACEWHITE            PERP_RACEWHITE HISPANIC  \n                         0.777739                           1.097492  \n                PERP_AGE_GROUP&lt;18                PERP_AGE_GROUP18-24  \n                        -0.931793                          -0.630785  \n              PERP_AGE_GROUP25-44                PERP_AGE_GROUP45-64  \n                        -0.555683                           0.132840  \n                PERP_AGE_GROUP65+                          PERP_SEXF  \n                               NA                          -0.007563  \n                        PERP_SEXM  \n                               NA  \n\nDegrees of Freedom: 1705 Total (i.e. Null);  1695 Residual\nNull Deviance:      1698 \nResidual Deviance: 1669     AIC: 1691\n\n\nWe made a logistic model using murder statistics as y variable and PERP_RACE, PERP_AGE_GROUP, and PERP_SEX as predictors. And based on the bar plot above, Asian/pacific islander has the largest proportion of Incidents Classified as Statistical Murders by Perpetrator Race."
  },
  {
    "objectID": "posts/2024-02-28-first-post-dataset-exploration/first-post-dataset-exploration.html",
    "href": "posts/2024-02-28-first-post-dataset-exploration/first-post-dataset-exploration.html",
    "title": "Blog Post 1 - Dataset Exploration",
    "section": "",
    "text": "Prison Population\n\nThis dataset, hosted on Kaggle has the demographics of incarcerated individuals across all 50 states and the District of Columbia. It encompasses data curated from public sources, detailing the distribution of prison populations by race,\nThis data can help us understand how COVID-19 impacted prison populations, especially regarding racial disparities. We can see if these effects differ by location and explore reasons behind any such differences.Challenges might include missing information about how the data was collected and potential inconsistencies from different sources.\n\nNutrition and Physical Activity\n\nThis dataset records the status of weight and physical activity of US adults from 2011 to 2022 on both the national level and state levels. It comes with demographic information including age, race, gender, and income. It is posted by the Centers for Disease Control and Prevention, and the data source is the Behavioral Risk Factor Surveillance System. It contains 93249 rows and 33 columns. The weight status and physical activity status are in percentages.\nWe intend to use this data to study in which groups obesity is more prevalent. With the demographic information, this data helps us understand factors affecting the rate of obesity from different angles. Besides, with proper analysis, the data can possibly explain what people can do to prevent obesity.\n\nNYPD Police Shootings\n\nThis data records a list of every shooting that has occurred in New York City since 2006, including detailed information about each shooting. This data is manually extracted every quarter and reviewed by the Office of Management Analysis and Planning before being posted on the NYPD website, containing 21 columns and 27312 rows.\nEach record represents a shooting incident in New York City and includes information about the incident, where and when it occurred. Additionally, information related to suspect and victim demographics is included. This data can be used to explore the nature of shooting/criminal activity.\nBecause this data includes the race, gender, and age group of shooting suspects and victims, we can use this data to explore the frequency of shootings by race and the distribution of suspects and victims across racial categories."
  },
  {
    "objectID": "posts/2024-04-12-blog-post-5/blog-post-5.html",
    "href": "posts/2024-04-12-blog-post-5/blog-post-5.html",
    "title": "Blog Post 5 - Combine Dataset",
    "section": "",
    "text": "library(caret)\n\nLoading required package: ggplot2\n\n\nLoading required package: lattice\n\n\nWe found that the NYPD_Arrest_data dataset can be combined with out NYPD_Shooting_incident dataset as we will try to see if there is a relationship between shooting incidents and arrests based on locations. We are also thinking of checking median income by location and seeing how our data correlates with the income. We are combining the datasets based on Latitude and Longitude."
  },
  {
    "objectID": "exploratory_data_analysis.html",
    "href": "exploratory_data_analysis.html",
    "title": "Exploratory Data Analysis",
    "section": "",
    "text": "# Load necessary libraries\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(ggplot2)\nlibrary(ggcorrplot) \nlibrary(GGally) \n\nRegistered S3 method overwritten by 'GGally':\n  method from   \n  +.gg   ggplot2\n\nlibrary(readr)\nlibrary(dplyr)\nlibrary(lubridate)\nlibrary(sf)\n\nLinking to GEOS 3.11.0, GDAL 3.5.3, PROJ 9.1.0; sf_use_s2() is TRUE\n\n# Read the dataset\ndata &lt;- readRDS(\"dataset/nypd_shooting_clean.rds\")\n\n# Display the first few rows of the dataset\nhead(data)\n\n# A tibble: 6 × 19\n  INCIDENT_KEY OCCUR_DATE BORO     PRECINCT JURISDICTION_CODE LOC_CLASSFCTN_DESC\n         &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;dbl&gt;             &lt;dbl&gt; &lt;chr&gt;             \n1    243566884 04/12/2022 BRONX          49                 0 STREET            \n2    256484816 12/17/2022 BRONX          52                 0 STREET            \n3    250216145 08/27/2022 BRONX          44                 0 VEHICLE           \n4    239207164 01/15/2022 QUEENS        113                 2 HOUSING           \n5    248013313 07/14/2022 BROOKLYN       77                 0 DWELLING          \n6    247542571 07/04/2022 BRONX          48                 0 STREET            \n# ℹ 13 more variables: LOCATION_DESC &lt;chr&gt;, STATISTICAL_MURDER_FLAG &lt;lgl&gt;,\n#   PERP_AGE_GROUP &lt;chr&gt;, PERP_SEX &lt;chr&gt;, PERP_RACE &lt;chr&gt;, VIC_AGE_GROUP &lt;chr&gt;,\n#   VIC_SEX &lt;chr&gt;, VIC_RACE &lt;chr&gt;, X_COORD_CD &lt;dbl&gt;, Y_COORD_CD &lt;dbl&gt;,\n#   Latitude &lt;dbl&gt;, Longitude &lt;dbl&gt;, Lon_Lat &lt;chr&gt;\n\n\n\n# Display summary statistics\nsummary(data)\n\n  INCIDENT_KEY        OCCUR_DATE            BORO              PRECINCT     \n Min.   :238531159   Length:1706        Length:1706        Min.   :  1.00  \n 1st Qu.:243566417   Class :character   Class :character   1st Qu.: 42.00  \n Median :247200780   Mode  :character   Mode  :character   Median : 60.00  \n Mean   :247286170                                         Mean   : 62.14  \n 3rd Qu.:250665115                                         3rd Qu.: 79.00  \n Max.   :261190187                                         Max.   :123.00  \n JURISDICTION_CODE LOC_CLASSFCTN_DESC LOCATION_DESC     \n Min.   :0.0000    Length:1706        Length:1706       \n 1st Qu.:0.0000    Class :character   Class :character  \n Median :0.0000    Mode  :character   Mode  :character  \n Mean   :0.2585                                         \n 3rd Qu.:0.0000                                         \n Max.   :2.0000                                         \n STATISTICAL_MURDER_FLAG PERP_AGE_GROUP       PERP_SEX        \n Mode :logical           Length:1706        Length:1706       \n FALSE:1368              Class :character   Class :character  \n TRUE :338               Mode  :character   Mode  :character  \n                                                              \n                                                              \n                                                              \n  PERP_RACE         VIC_AGE_GROUP        VIC_SEX            VIC_RACE        \n Length:1706        Length:1706        Length:1706        Length:1706       \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n   X_COORD_CD        Y_COORD_CD        Latitude       Longitude     \n Min.   : 929510   Min.   :127539   Min.   :40.52   Min.   :-74.20  \n 1st Qu.:1000227   1st Qu.:184263   1st Qu.:40.67   1st Qu.:-73.94  \n Median :1008245   Median :210147   Median :40.74   Median :-73.91  \n Mean   :1009397   Mean   :211643   Mean   :40.75   Mean   :-73.91  \n 3rd Qu.:1016866   3rd Qu.:241412   3rd Qu.:40.83   3rd Qu.:-73.88  \n Max.   :1059828   Max.   :269204   Max.   :40.91   Max.   :-73.73  \n   Lon_Lat         \n Length:1706       \n Class :character  \n Mode  :character  \n                   \n                   \n                   \n\n\n\n# Convert 'OCCUR_DATE' to datetime format\ndata &lt;- data %&gt;%\n  mutate(OCCUR_DATE = dmy(OCCUR_DATE), \n         OCCUR_YEAR = year(OCCUR_DATE))\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `OCCUR_DATE = dmy(OCCUR_DATE)`.\nCaused by warning:\n!  1017 failed to parse.\n\n\n\nNYPD_arrest_data &lt;- readRDS(\"dataset/nypd_arrest.rds\")\ncombined_df &lt;- merge(data, NYPD_arrest_data, by = c(\"X_COORD_CD\", \"Y_COORD_CD\",\"Latitude\",\"Longitude\",\"PERP_SEX\",\"JURISDICTION_CODE\",\"PERP_RACE\"))\n\n\n# Geographical Heatmap: Concentration of shootings in different boroughs\nborough_counts &lt;- data %&gt;%\n  count(BORO) %&gt;%\n  arrange(desc(n))\n\nggplot(borough_counts, aes(x = reorder(BORO, n), y = n, fill = BORO)) +\n  geom_bar(stat = \"identity\") +\n  theme_minimal() +\n  labs(title = 'Number of Shootings by Borough', x = 'Borough', y = 'Number of Shootings') +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n# Perpetrator and Victim Demographics: Age Group Distribution\nperp_age_counts &lt;- data %&gt;%\n  count(PERP_AGE_GROUP) %&gt;%\n  arrange(desc(n))\n\nvic_age_counts &lt;- data %&gt;%\n  count(VIC_AGE_GROUP) %&gt;%\n  arrange(desc(n))\n\n# Plotting Perpetrator Age Group Distribution\nggplot(perp_age_counts, aes(x = reorder(PERP_AGE_GROUP, n), y = n, fill = PERP_AGE_GROUP)) +\n  geom_bar(stat = \"identity\") +\n  theme_minimal() +\n  labs(title = 'Perpetrator Age Group Distribution', x = 'Age Group', y = 'Count') +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n# Plotting Victim Age Group Distribution\nggplot(vic_age_counts, aes(x = reorder(VIC_AGE_GROUP, n), y = n, fill = VIC_AGE_GROUP)) +\n  geom_bar(stat = \"identity\") +\n  theme_minimal() +\n  labs(title = 'Victim Age Group Distribution', x = 'Age Group', y = 'Count') +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n# Ensure we're working with the numeric part of the dataset\n#numeric_data &lt;- data %&gt;% \n  #select_if(is.numeric)\n\n# Compute the correlation matrix, handling NA values by computing correlations for complete pairs\n#cor_matrix &lt;- cor(numeric_data, use = \"pairwise.complete.obs\")\n\n# Plot the correlation matrix using ggcorrplot\n#ggcorrplot(cor_matrix, method = \"circle\", type = \"lower\", \n           #lab = TRUE, lab_size = 3, tl.cex = 10, tl.col = \"black\",\n           #title = \"Correlation Matrix of Numeric Variables\")\n\n\n# STILL WORKING ON IT\n# ggplot(data, aes(x = variable1, y = variable2)) +\n#   geom_point() +\n#   theme_minimal() +\n#   labs(title = \"Scatter Plot of variable1 vs. variable2\",\n#        x = \"variable1\",\n#        y = \"variable2\")\n\n\n# STILL WORKING ON IT\n# ggplot(data, aes(x = variable)) +\n#   geom_histogram(bins = 30, fill = \"blue\", color = \"black\") +\n#   theme_minimal() +\n#   labs(title = \"Histogram of variable\",\n#        x = \"variable\",\n#        y = \"Frequency\")\n\n\n# STILL WORKING ON IT\n# # Linear regression model \n# lm_model &lt;- lm(variable1 ~ variable2, data = data)\n# \n# # Summarize the model\n# summary(lm_model)\n\n\nprep_race_counts &lt;- data |&gt;\n  count(PERP_RACE) |&gt;\n  arrange(desc(n))\n\nggplot(prep_race_counts, aes(x = reorder(PERP_RACE, n), y = n, fill = PERP_RACE)) + \n  geom_bar(stat = \"identity\") +\n  theme_minimal() +\n  labs(title = \"Perpetrator Race Distribution\", x = \"Perpetrator Race\", y = \"Count\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nvic_race_counts &lt;- data |&gt;\n  count(VIC_RACE) |&gt;\n  arrange(desc(n))\n\nggplot(vic_race_counts, aes(x = reorder(VIC_RACE, n), y = n, fill = VIC_RACE)) + \n  geom_bar(stat = \"identity\") +\n  theme_minimal() +\n  labs(title = \"Victim Race Distribution\", x = \"Victim Race\", y = \"Count\") +\n  theme(axis.text.x = element_text(angle = 45, vjust = 0.5, hjust=0.5))\n\n\n\n\n\n# Calculate proportions Blog Post 4\nproportions &lt;- data %&gt;%\n  group_by(PERP_RACE) %&gt;%\n  summarise(Proportion = mean(STATISTICAL_MURDER_FLAG == \"TRUE\", na.rm = TRUE))\n\n# Create the plot\nggplot(proportions, aes(x = PERP_RACE, y = Proportion, fill = PERP_RACE)) +\n  geom_bar(stat = \"identity\") +\n  theme_minimal() +\n  labs(title = \"Proportion of Incidents Classified as Statistical Murders by Perpetrator Race\",\n       x = \"Perpetrator Race\",\n       y = \"Proportion\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nmod1 &lt;- glm(STATISTICAL_MURDER_FLAG ~ BORO + PERP_SEX + PERP_RACE + LOC_CLASSFCTN_DESC + PERP_AGE_GROUP + VIC_SEX + VIC_AGE_GROUP + VIC_RACE + OFNS_DESC,\n  data = combined_df, \n  family = \"binomial\"\n)\n\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\n\nsummary(mod1)\n\n\nCall:\nglm(formula = STATISTICAL_MURDER_FLAG ~ BORO + PERP_SEX + PERP_RACE + \n    LOC_CLASSFCTN_DESC + PERP_AGE_GROUP + VIC_SEX + VIC_AGE_GROUP + \n    VIC_RACE + OFNS_DESC, family = \"binomial\", data = combined_df)\n\nCoefficients: (1 not defined because of singularities)\n                                          Estimate Std. Error z value Pr(&gt;|z|)\n(Intercept)                              -13.46172 3956.17989  -0.003 0.997285\nBOROBROOKLYN                              -0.80477    0.13545  -5.941 2.83e-09\nBOROMANHATTAN                             -0.65836    0.14170  -4.646 3.38e-06\nBOROQUEENS                                -1.17328    0.20758  -5.652 1.58e-08\nBOROSTATEN ISLAND                         -0.01359    0.27812  -0.049 0.961024\nPERP_SEXM                                  0.78206    0.49461   1.581 0.113837\nPERP_RACEBLACK                            -6.63825    1.47659  -4.496 6.94e-06\nPERP_RACEBLACK HISPANIC                   -6.85784    1.50201  -4.566 4.98e-06\nPERP_RACEWHITE                           -23.30150 1306.79230  -0.018 0.985774\nPERP_RACEWHITE HISPANIC                   -6.87887    1.48095  -4.645 3.40e-06\nLOC_CLASSFCTN_DESCDWELLING                -1.68901    0.24849  -6.797 1.07e-11\nLOC_CLASSFCTN_DESCHOUSING                 -1.85224    0.22609  -8.192 2.56e-16\nLOC_CLASSFCTN_DESCOTHER                  -18.10176  501.30824  -0.036 0.971195\nLOC_CLASSFCTN_DESCPARKING LOT             -2.99401    1.13072  -2.648 0.008100\nLOC_CLASSFCTN_DESCPLAYGROUND              -0.10074    0.57802  -0.174 0.861643\nLOC_CLASSFCTN_DESCSTREET                  -1.75346    0.16836 -10.415  &lt; 2e-16\nLOC_CLASSFCTN_DESCTRANSIT                  0.01694    0.56825   0.030 0.976223\nLOC_CLASSFCTN_DESCVEHICLE                  3.12812    1.19854   2.610 0.009056\nPERP_AGE_GROUP18-24                        1.01082    0.21083   4.794 1.63e-06\nPERP_AGE_GROUP25-44                        0.90139    0.21982   4.101 4.12e-05\nPERP_AGE_GROUP45-64                        1.71600    0.28214   6.082 1.19e-09\nPERP_AGE_GROUP65+                        -15.59241 1480.31146  -0.011 0.991596\nVIC_SEXM                                   0.11046    0.13691   0.807 0.419797\nVIC_AGE_GROUP18-24                        -0.11672    0.16516  -0.707 0.479753\nVIC_AGE_GROUP25-44                         0.10839    0.16574   0.654 0.513133\nVIC_AGE_GROUP45-64                        -0.72013    0.23827  -3.022 0.002508\nVIC_AGE_GROUP65+                         -16.12617  772.45779  -0.021 0.983344\nVIC_AGE_GROUPUNKNOWN                     -12.40332 1895.20904  -0.007 0.994778\nVIC_RACEBLACK                              4.03840    1.06956   3.776 0.000160\nVIC_RACEBLACK HISPANIC                     3.70554    1.08523   3.415 0.000639\nVIC_RACEUNKNOWN                                 NA         NA      NA       NA\nVIC_RACEWHITE                              1.99505    1.14311   1.745 0.080936\nVIC_RACEWHITE HISPANIC                     3.65555    1.07554   3.399 0.000677\nOFNS_DESCALCOHOLIC BEVERAGE CONTROL LAW   -1.08311 4822.63674   0.000 0.999821\nOFNS_DESCASSAULT 3 & RELATED OFFENSES     15.38200 3956.17971   0.004 0.996898\nOFNS_DESCBURGLAR'S TOOLS                  16.70648 3956.18000   0.004 0.996631\nOFNS_DESCBURGLARY                         15.11783 3956.17973   0.004 0.996951\nOFNS_DESCCANNABIS RELATED OFFENSES        -1.33631 4687.49612   0.000 0.999773\nOFNS_DESCCHILD ABANDONMENT/NON SUPPORT    -1.76276 5594.88344   0.000 0.999749\nOFNS_DESCCRIMINAL MISCHIEF & RELATED OF   15.33409 3956.17972   0.004 0.996907\nOFNS_DESCCRIMINAL TRESPASS                14.68517 3956.17976   0.004 0.997038\nOFNS_DESCDANGEROUS DRUGS                  15.37328 3956.17971   0.004 0.996900\nOFNS_DESCDANGEROUS WEAPONS                15.26705 3956.17972   0.004 0.996921\nOFNS_DESCFELONY ASSAULT                   14.82937 3956.17972   0.004 0.997009\nOFNS_DESCFOR OTHER AUTHORITIES            14.73316 3956.17976   0.004 0.997029\nOFNS_DESCFORGERY                          12.13051 3956.17996   0.003 0.997554\nOFNS_DESCFRAUDS                           -1.04425 4084.60349   0.000 0.999796\nOFNS_DESCGAMBLING                         15.66656 3956.17977   0.004 0.996840\nOFNS_DESCGRAND LARCENY                    14.92729 3956.17973   0.004 0.996989\nOFNS_DESCGRAND LARCENY OF MOTOR VEHICLE   16.53692 3956.17975   0.004 0.996665\nOFNS_DESCHARRASSMENT 2                     3.19031 4845.31117   0.001 0.999475\nOFNS_DESCHOMICIDE-NEGLIGENT,UNCLASSIFIE    3.19031 4845.31117   0.001 0.999475\nOFNS_DESCINTOXICATED & IMPAIRED DRIVING   15.52000 3956.17977   0.004 0.996870\nOFNS_DESCINTOXICATED/IMPAIRED DRIVING     -0.84856 5594.88344   0.000 0.999879\nOFNS_DESCKIDNAPPING & RELATED OFFENSES    -0.52635 5594.88345   0.000 0.999925\nOFNS_DESCMISCELLANEOUS PENAL LAW          15.32177 3956.17972   0.004 0.996910\nOFNS_DESCMURDER & NON-NEGL. MANSLAUGHTE    0.42525 3999.93241   0.000 0.999915\nOFNS_DESCNYS LAWS-UNCLASSIFIED FELONY     15.16609 3956.17980   0.004 0.996941\nOFNS_DESCOFF. AGNST PUB ORD SENSBLTY &    15.76131 3956.17974   0.004 0.996821\nOFNS_DESCOFFENSES AGAINST PUBLIC ADMINI   15.33879 3956.17972   0.004 0.996906\nOFNS_DESCOFFENSES AGAINST THE PERSON      14.35025 3956.17979   0.004 0.997106\nOFNS_DESCOFFENSES INVOLVING FRAUD         15.13177 3956.17973   0.004 0.996948\nOFNS_DESCOTHER OFFENSES RELATED TO THEF   16.20625 3956.17976   0.004 0.996732\nOFNS_DESCOTHER STATE LAWS                 15.56017 3956.17989   0.004 0.996862\nOFNS_DESCOTHER STATE LAWS (NON PENAL LA   -0.94028 4844.51018   0.000 0.999845\nOFNS_DESCOTHER TRAFFIC INFRACTION         15.79269 3956.17974   0.004 0.996815\nOFNS_DESCPETIT LARCENY                    13.71176 3956.17972   0.003 0.997235\nOFNS_DESCPOSSESSION OF STOLEN PROPERTY    15.80920 3956.17974   0.004 0.996812\nOFNS_DESCRAPE                             15.63081 3956.17972   0.004 0.996848\nOFNS_DESCROBBERY                          15.76949 3956.17972   0.004 0.996820\nOFNS_DESCSEX CRIMES                       15.05818 3956.17971   0.004 0.996963\nOFNS_DESCUNAUTHORIZED USE OF A VEHICLE    14.81084 3956.17986   0.004 0.997013\nOFNS_DESCVEHICLE AND TRAFFIC LAWS         15.45099 3956.17972   0.004 0.996884\n                                           \n(Intercept)                                \nBOROBROOKLYN                            ***\nBOROMANHATTAN                           ***\nBOROQUEENS                              ***\nBOROSTATEN ISLAND                          \nPERP_SEXM                                  \nPERP_RACEBLACK                          ***\nPERP_RACEBLACK HISPANIC                 ***\nPERP_RACEWHITE                             \nPERP_RACEWHITE HISPANIC                 ***\nLOC_CLASSFCTN_DESCDWELLING              ***\nLOC_CLASSFCTN_DESCHOUSING               ***\nLOC_CLASSFCTN_DESCOTHER                    \nLOC_CLASSFCTN_DESCPARKING LOT           ** \nLOC_CLASSFCTN_DESCPLAYGROUND               \nLOC_CLASSFCTN_DESCSTREET                ***\nLOC_CLASSFCTN_DESCTRANSIT                  \nLOC_CLASSFCTN_DESCVEHICLE               ** \nPERP_AGE_GROUP18-24                     ***\nPERP_AGE_GROUP25-44                     ***\nPERP_AGE_GROUP45-64                     ***\nPERP_AGE_GROUP65+                          \nVIC_SEXM                                   \nVIC_AGE_GROUP18-24                         \nVIC_AGE_GROUP25-44                         \nVIC_AGE_GROUP45-64                      ** \nVIC_AGE_GROUP65+                           \nVIC_AGE_GROUPUNKNOWN                       \nVIC_RACEBLACK                           ***\nVIC_RACEBLACK HISPANIC                  ***\nVIC_RACEUNKNOWN                            \nVIC_RACEWHITE                           .  \nVIC_RACEWHITE HISPANIC                  ***\nOFNS_DESCALCOHOLIC BEVERAGE CONTROL LAW    \nOFNS_DESCASSAULT 3 & RELATED OFFENSES      \nOFNS_DESCBURGLAR'S TOOLS                   \nOFNS_DESCBURGLARY                          \nOFNS_DESCCANNABIS RELATED OFFENSES         \nOFNS_DESCCHILD ABANDONMENT/NON SUPPORT     \nOFNS_DESCCRIMINAL MISCHIEF & RELATED OF    \nOFNS_DESCCRIMINAL TRESPASS                 \nOFNS_DESCDANGEROUS DRUGS                   \nOFNS_DESCDANGEROUS WEAPONS                 \nOFNS_DESCFELONY ASSAULT                    \nOFNS_DESCFOR OTHER AUTHORITIES             \nOFNS_DESCFORGERY                           \nOFNS_DESCFRAUDS                            \nOFNS_DESCGAMBLING                          \nOFNS_DESCGRAND LARCENY                     \nOFNS_DESCGRAND LARCENY OF MOTOR VEHICLE    \nOFNS_DESCHARRASSMENT 2                     \nOFNS_DESCHOMICIDE-NEGLIGENT,UNCLASSIFIE    \nOFNS_DESCINTOXICATED & IMPAIRED DRIVING    \nOFNS_DESCINTOXICATED/IMPAIRED DRIVING      \nOFNS_DESCKIDNAPPING & RELATED OFFENSES     \nOFNS_DESCMISCELLANEOUS PENAL LAW           \nOFNS_DESCMURDER & NON-NEGL. MANSLAUGHTE    \nOFNS_DESCNYS LAWS-UNCLASSIFIED FELONY      \nOFNS_DESCOFF. AGNST PUB ORD SENSBLTY &     \nOFNS_DESCOFFENSES AGAINST PUBLIC ADMINI    \nOFNS_DESCOFFENSES AGAINST THE PERSON       \nOFNS_DESCOFFENSES INVOLVING FRAUD          \nOFNS_DESCOTHER OFFENSES RELATED TO THEF    \nOFNS_DESCOTHER STATE LAWS                  \nOFNS_DESCOTHER STATE LAWS (NON PENAL LA    \nOFNS_DESCOTHER TRAFFIC INFRACTION          \nOFNS_DESCPETIT LARCENY                     \nOFNS_DESCPOSSESSION OF STOLEN PROPERTY     \nOFNS_DESCRAPE                              \nOFNS_DESCROBBERY                           \nOFNS_DESCSEX CRIMES                        \nOFNS_DESCUNAUTHORIZED USE OF A VEHICLE     \nOFNS_DESCVEHICLE AND TRAFFIC LAWS          \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 3626.2  on 3671  degrees of freedom\nResidual deviance: 2850.5  on 3600  degrees of freedom\nAIC: 2994.5\n\nNumber of Fisher Scoring iterations: 16\n\nplot(mod1)\n\nWarning: not plotting observations with leverage one:\n  942, 1410, 2688, 2985\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlibrary(caret)\n\nLoading required package: lattice\n\n\n\nAttaching package: 'caret'\n\n\nThe following object is masked from 'package:purrr':\n\n    lift\n\nlibrary(nnet)\n\n\n# Fit the logistic regression model\nmodel &lt;- glm(STATISTICAL_MURDER_FLAG ~ BORO + PERP_SEX + PERP_RACE + LOC_CLASSFCTN_DESC + PERP_AGE_GROUP + VIC_SEX + VIC_AGE_GROUP + VIC_RACE + OFNS_DESC, \n             data = combined_df, family = \"binomial\")\n\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\n\n# Summarize the model\nsummary(model)\n\n\nCall:\nglm(formula = STATISTICAL_MURDER_FLAG ~ BORO + PERP_SEX + PERP_RACE + \n    LOC_CLASSFCTN_DESC + PERP_AGE_GROUP + VIC_SEX + VIC_AGE_GROUP + \n    VIC_RACE + OFNS_DESC, family = \"binomial\", data = combined_df)\n\nCoefficients: (1 not defined because of singularities)\n                                          Estimate Std. Error z value Pr(&gt;|z|)\n(Intercept)                              -13.46172 3956.17989  -0.003 0.997285\nBOROBROOKLYN                              -0.80477    0.13545  -5.941 2.83e-09\nBOROMANHATTAN                             -0.65836    0.14170  -4.646 3.38e-06\nBOROQUEENS                                -1.17328    0.20758  -5.652 1.58e-08\nBOROSTATEN ISLAND                         -0.01359    0.27812  -0.049 0.961024\nPERP_SEXM                                  0.78206    0.49461   1.581 0.113837\nPERP_RACEBLACK                            -6.63825    1.47659  -4.496 6.94e-06\nPERP_RACEBLACK HISPANIC                   -6.85784    1.50201  -4.566 4.98e-06\nPERP_RACEWHITE                           -23.30150 1306.79230  -0.018 0.985774\nPERP_RACEWHITE HISPANIC                   -6.87887    1.48095  -4.645 3.40e-06\nLOC_CLASSFCTN_DESCDWELLING                -1.68901    0.24849  -6.797 1.07e-11\nLOC_CLASSFCTN_DESCHOUSING                 -1.85224    0.22609  -8.192 2.56e-16\nLOC_CLASSFCTN_DESCOTHER                  -18.10176  501.30824  -0.036 0.971195\nLOC_CLASSFCTN_DESCPARKING LOT             -2.99401    1.13072  -2.648 0.008100\nLOC_CLASSFCTN_DESCPLAYGROUND              -0.10074    0.57802  -0.174 0.861643\nLOC_CLASSFCTN_DESCSTREET                  -1.75346    0.16836 -10.415  &lt; 2e-16\nLOC_CLASSFCTN_DESCTRANSIT                  0.01694    0.56825   0.030 0.976223\nLOC_CLASSFCTN_DESCVEHICLE                  3.12812    1.19854   2.610 0.009056\nPERP_AGE_GROUP18-24                        1.01082    0.21083   4.794 1.63e-06\nPERP_AGE_GROUP25-44                        0.90139    0.21982   4.101 4.12e-05\nPERP_AGE_GROUP45-64                        1.71600    0.28214   6.082 1.19e-09\nPERP_AGE_GROUP65+                        -15.59241 1480.31146  -0.011 0.991596\nVIC_SEXM                                   0.11046    0.13691   0.807 0.419797\nVIC_AGE_GROUP18-24                        -0.11672    0.16516  -0.707 0.479753\nVIC_AGE_GROUP25-44                         0.10839    0.16574   0.654 0.513133\nVIC_AGE_GROUP45-64                        -0.72013    0.23827  -3.022 0.002508\nVIC_AGE_GROUP65+                         -16.12617  772.45779  -0.021 0.983344\nVIC_AGE_GROUPUNKNOWN                     -12.40332 1895.20904  -0.007 0.994778\nVIC_RACEBLACK                              4.03840    1.06956   3.776 0.000160\nVIC_RACEBLACK HISPANIC                     3.70554    1.08523   3.415 0.000639\nVIC_RACEUNKNOWN                                 NA         NA      NA       NA\nVIC_RACEWHITE                              1.99505    1.14311   1.745 0.080936\nVIC_RACEWHITE HISPANIC                     3.65555    1.07554   3.399 0.000677\nOFNS_DESCALCOHOLIC BEVERAGE CONTROL LAW   -1.08311 4822.63674   0.000 0.999821\nOFNS_DESCASSAULT 3 & RELATED OFFENSES     15.38200 3956.17971   0.004 0.996898\nOFNS_DESCBURGLAR'S TOOLS                  16.70648 3956.18000   0.004 0.996631\nOFNS_DESCBURGLARY                         15.11783 3956.17973   0.004 0.996951\nOFNS_DESCCANNABIS RELATED OFFENSES        -1.33631 4687.49612   0.000 0.999773\nOFNS_DESCCHILD ABANDONMENT/NON SUPPORT    -1.76276 5594.88344   0.000 0.999749\nOFNS_DESCCRIMINAL MISCHIEF & RELATED OF   15.33409 3956.17972   0.004 0.996907\nOFNS_DESCCRIMINAL TRESPASS                14.68517 3956.17976   0.004 0.997038\nOFNS_DESCDANGEROUS DRUGS                  15.37328 3956.17971   0.004 0.996900\nOFNS_DESCDANGEROUS WEAPONS                15.26705 3956.17972   0.004 0.996921\nOFNS_DESCFELONY ASSAULT                   14.82937 3956.17972   0.004 0.997009\nOFNS_DESCFOR OTHER AUTHORITIES            14.73316 3956.17976   0.004 0.997029\nOFNS_DESCFORGERY                          12.13051 3956.17996   0.003 0.997554\nOFNS_DESCFRAUDS                           -1.04425 4084.60349   0.000 0.999796\nOFNS_DESCGAMBLING                         15.66656 3956.17977   0.004 0.996840\nOFNS_DESCGRAND LARCENY                    14.92729 3956.17973   0.004 0.996989\nOFNS_DESCGRAND LARCENY OF MOTOR VEHICLE   16.53692 3956.17975   0.004 0.996665\nOFNS_DESCHARRASSMENT 2                     3.19031 4845.31117   0.001 0.999475\nOFNS_DESCHOMICIDE-NEGLIGENT,UNCLASSIFIE    3.19031 4845.31117   0.001 0.999475\nOFNS_DESCINTOXICATED & IMPAIRED DRIVING   15.52000 3956.17977   0.004 0.996870\nOFNS_DESCINTOXICATED/IMPAIRED DRIVING     -0.84856 5594.88344   0.000 0.999879\nOFNS_DESCKIDNAPPING & RELATED OFFENSES    -0.52635 5594.88345   0.000 0.999925\nOFNS_DESCMISCELLANEOUS PENAL LAW          15.32177 3956.17972   0.004 0.996910\nOFNS_DESCMURDER & NON-NEGL. MANSLAUGHTE    0.42525 3999.93241   0.000 0.999915\nOFNS_DESCNYS LAWS-UNCLASSIFIED FELONY     15.16609 3956.17980   0.004 0.996941\nOFNS_DESCOFF. AGNST PUB ORD SENSBLTY &    15.76131 3956.17974   0.004 0.996821\nOFNS_DESCOFFENSES AGAINST PUBLIC ADMINI   15.33879 3956.17972   0.004 0.996906\nOFNS_DESCOFFENSES AGAINST THE PERSON      14.35025 3956.17979   0.004 0.997106\nOFNS_DESCOFFENSES INVOLVING FRAUD         15.13177 3956.17973   0.004 0.996948\nOFNS_DESCOTHER OFFENSES RELATED TO THEF   16.20625 3956.17976   0.004 0.996732\nOFNS_DESCOTHER STATE LAWS                 15.56017 3956.17989   0.004 0.996862\nOFNS_DESCOTHER STATE LAWS (NON PENAL LA   -0.94028 4844.51018   0.000 0.999845\nOFNS_DESCOTHER TRAFFIC INFRACTION         15.79269 3956.17974   0.004 0.996815\nOFNS_DESCPETIT LARCENY                    13.71176 3956.17972   0.003 0.997235\nOFNS_DESCPOSSESSION OF STOLEN PROPERTY    15.80920 3956.17974   0.004 0.996812\nOFNS_DESCRAPE                             15.63081 3956.17972   0.004 0.996848\nOFNS_DESCROBBERY                          15.76949 3956.17972   0.004 0.996820\nOFNS_DESCSEX CRIMES                       15.05818 3956.17971   0.004 0.996963\nOFNS_DESCUNAUTHORIZED USE OF A VEHICLE    14.81084 3956.17986   0.004 0.997013\nOFNS_DESCVEHICLE AND TRAFFIC LAWS         15.45099 3956.17972   0.004 0.996884\n                                           \n(Intercept)                                \nBOROBROOKLYN                            ***\nBOROMANHATTAN                           ***\nBOROQUEENS                              ***\nBOROSTATEN ISLAND                          \nPERP_SEXM                                  \nPERP_RACEBLACK                          ***\nPERP_RACEBLACK HISPANIC                 ***\nPERP_RACEWHITE                             \nPERP_RACEWHITE HISPANIC                 ***\nLOC_CLASSFCTN_DESCDWELLING              ***\nLOC_CLASSFCTN_DESCHOUSING               ***\nLOC_CLASSFCTN_DESCOTHER                    \nLOC_CLASSFCTN_DESCPARKING LOT           ** \nLOC_CLASSFCTN_DESCPLAYGROUND               \nLOC_CLASSFCTN_DESCSTREET                ***\nLOC_CLASSFCTN_DESCTRANSIT                  \nLOC_CLASSFCTN_DESCVEHICLE               ** \nPERP_AGE_GROUP18-24                     ***\nPERP_AGE_GROUP25-44                     ***\nPERP_AGE_GROUP45-64                     ***\nPERP_AGE_GROUP65+                          \nVIC_SEXM                                   \nVIC_AGE_GROUP18-24                         \nVIC_AGE_GROUP25-44                         \nVIC_AGE_GROUP45-64                      ** \nVIC_AGE_GROUP65+                           \nVIC_AGE_GROUPUNKNOWN                       \nVIC_RACEBLACK                           ***\nVIC_RACEBLACK HISPANIC                  ***\nVIC_RACEUNKNOWN                            \nVIC_RACEWHITE                           .  \nVIC_RACEWHITE HISPANIC                  ***\nOFNS_DESCALCOHOLIC BEVERAGE CONTROL LAW    \nOFNS_DESCASSAULT 3 & RELATED OFFENSES      \nOFNS_DESCBURGLAR'S TOOLS                   \nOFNS_DESCBURGLARY                          \nOFNS_DESCCANNABIS RELATED OFFENSES         \nOFNS_DESCCHILD ABANDONMENT/NON SUPPORT     \nOFNS_DESCCRIMINAL MISCHIEF & RELATED OF    \nOFNS_DESCCRIMINAL TRESPASS                 \nOFNS_DESCDANGEROUS DRUGS                   \nOFNS_DESCDANGEROUS WEAPONS                 \nOFNS_DESCFELONY ASSAULT                    \nOFNS_DESCFOR OTHER AUTHORITIES             \nOFNS_DESCFORGERY                           \nOFNS_DESCFRAUDS                            \nOFNS_DESCGAMBLING                          \nOFNS_DESCGRAND LARCENY                     \nOFNS_DESCGRAND LARCENY OF MOTOR VEHICLE    \nOFNS_DESCHARRASSMENT 2                     \nOFNS_DESCHOMICIDE-NEGLIGENT,UNCLASSIFIE    \nOFNS_DESCINTOXICATED & IMPAIRED DRIVING    \nOFNS_DESCINTOXICATED/IMPAIRED DRIVING      \nOFNS_DESCKIDNAPPING & RELATED OFFENSES     \nOFNS_DESCMISCELLANEOUS PENAL LAW           \nOFNS_DESCMURDER & NON-NEGL. MANSLAUGHTE    \nOFNS_DESCNYS LAWS-UNCLASSIFIED FELONY      \nOFNS_DESCOFF. AGNST PUB ORD SENSBLTY &     \nOFNS_DESCOFFENSES AGAINST PUBLIC ADMINI    \nOFNS_DESCOFFENSES AGAINST THE PERSON       \nOFNS_DESCOFFENSES INVOLVING FRAUD          \nOFNS_DESCOTHER OFFENSES RELATED TO THEF    \nOFNS_DESCOTHER STATE LAWS                  \nOFNS_DESCOTHER STATE LAWS (NON PENAL LA    \nOFNS_DESCOTHER TRAFFIC INFRACTION          \nOFNS_DESCPETIT LARCENY                     \nOFNS_DESCPOSSESSION OF STOLEN PROPERTY     \nOFNS_DESCRAPE                              \nOFNS_DESCROBBERY                           \nOFNS_DESCSEX CRIMES                        \nOFNS_DESCUNAUTHORIZED USE OF A VEHICLE     \nOFNS_DESCVEHICLE AND TRAFFIC LAWS          \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 3626.2  on 3671  degrees of freedom\nResidual deviance: 2850.5  on 3600  degrees of freedom\nAIC: 2994.5\n\nNumber of Fisher Scoring iterations: 16\n\n\n\nlibrary(pROC)\n\nType 'citation(\"pROC\")' for a citation.\n\n\n\nAttaching package: 'pROC'\n\n\nThe following objects are masked from 'package:stats':\n\n    cov, smooth, var\n\n# Predict probabilities\npredictions &lt;- predict(model, type = \"response\")\n\n# ROC curve\nroc_curve &lt;- roc(combined_df$STATISTICAL_MURDER_FLAG, predictions)\n\nSetting levels: control = FALSE, case = TRUE\n\n\nSetting direction: controls &lt; cases\n\nplot(roc_curve)\n\n\n\nauc(roc_curve)\n\nArea under the curve: 0.7952\n\n\n\nshapefile_path &lt;- \"tl_2022_36_tract/tl_2022_36_tract.shp\"\ncomplete_data &lt;- st_read(shapefile_path)\n\nReading layer `tl_2022_36_tract' from data source \n  `/Users/wangshiyu/Desktop/MA415 A1+A3/final-project-team6/tl_2022_36_tract/tl_2022_36_tract.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 5411 features and 12 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -79.76259 ymin: 40.47658 xmax: -71.77749 ymax: 45.01586\nGeodetic CRS:  NAD83\n\nnyc_tracts &lt;- complete_data |&gt; \n  filter(COUNTYFP %in% c(\"005\", \"047\", \"061\", \"081\", \"085\"))\n\nmap_df &lt;- st_as_sf(combined_df, coords = c(\"Longitude\", \"Latitude\"), crs = 4326, agr = \"constant\")\n# Plotting the shapefile for NYC tracts and overlaying points\nfinal_plot &lt;- ggplot() +\n  geom_sf(data = nyc_tracts, fill = \"white\", color = \"gray\") +\n  geom_sf(data = map_df, color = \"brown3\", size = 1, alpha = 0.5) +  # Adds the points\n  theme_minimal() +\n  labs(title = \"Map of New York City with Offense Data Points\", x = \"Longitude\", y = \"Latitude\")\n\n# Print the final plot\nprint(final_plot)\n\n\n\n\n\n# explores relationships between perpetrator and victim demographics\n# Compare perpetrator and victim age groups\nggplot(combined_df, aes(x = PERP_AGE_GROUP, fill = VIC_AGE_GROUP)) +\n  geom_bar(position = \"dodge\") +\n  labs(x = \"Perpetrator Age Group\", y = \"Count\", fill = \"Victim Age Group\") +\n  theme_minimal() +\n  ggtitle(\"Comparison of Perpetrator and Victim Age Groups\")\n\n\n\n# Analyzing race and gender impact\nggplot(combined_df, aes(x = PERP_RACE, fill = VIC_SEX)) +\n  geom_bar(position = \"stack\") +\n  labs(x = \"Perpetrator Race\", y = \"Count\", fill = \"Victim Sex\") +\n  theme_minimal() +\n  ggtitle(\"Impact of Perpetrator Race on Victim Sex\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n# offense and Perpetrator race correlation\ncombined_df |&gt;\n  group_by(OFNS_DESC) |&gt;\n  summarise(Count = n(), .groups = 'drop') |&gt;\n  filter(Count &gt;= 50) |&gt;\n  ggplot(aes(x = OFNS_DESC, y = Count, fill = OFNS_DESC)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  coord_flip() +\n  theme_minimal() +\n  labs(x = \"Offense Description\", y = \"Count\") +\n  guides(fill = FALSE)\n\nWarning: The `&lt;scale&gt;` argument of `guides()` cannot be `FALSE`. Use \"none\" instead as\nof ggplot2 3.3.4.\n\n\n\n\ncombined_df |&gt;\n  group_by(OFNS_DESC, PERP_RACE) |&gt;\n  summarise(Count = n(), .groups = 'drop') |&gt;\n  filter(Count &gt;= 10) |&gt;\n  ggplot(aes(x = OFNS_DESC, y = Count, fill = PERP_RACE)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  coord_flip() +\n  theme(axis.text.x = element_text(angle = 0, hjust = 1)) +\n  theme_minimal() +\n  labs(x = \"Offense Description\", y = \"Count\", fill = \"Perpetrator Race\")\n\n\n\n\n\nnypd_payroll &lt;- readRDS(\"dataset/nypd_payroll.rds\")\nnypd_payroll &lt;- nypd_payroll %&gt;%\n  rename(\n    work_boro = `Work Location Borough`,\n    base_salary = `Base Salary`)\n\n\naverage_salary_by_borough &lt;- nypd_payroll %&gt;%\n  group_by(work_boro) %&gt;%\n  summarise(AverageSalary = mean(base_salary, na.rm = TRUE)) %&gt;%\n  ungroup()  # Ensure that we remove the grouping structure\n\n# Now plot the average salary by borough using ggplot2\nggplot(average_salary_by_borough, aes(x = work_boro, y = AverageSalary, fill = work_boro)) +\n  geom_col(position = \"dodge\") +\n  theme_minimal() +\n  labs(title = \"Average Salary by Work Location Borough\", x = \"Work Location Borough\", y = \"Average Salary\") +\n  guides(fill = FALSE)\n\n\n\n\n\n# Calculate average salary by borough\naverage_salary_by_borough &lt;- nypd_payroll %&gt;%\n  group_by(work_boro) %&gt;%\n  summarise(AverageSalary = mean(base_salary, na.rm = TRUE)) %&gt;%\n  ungroup()\n\nborough_to_fips &lt;- data.frame(\n  work_boro = c(\"BRONX\", \"BROOKLYN\", \"MANHATTAN\", \"QUEENS\", \"OTHER\"),  # Note: Ensure the names match the data\n  COUNTYFP = c(\"005\", \"047\", \"061\", \"081\", \"085\"))\n\naverage_salary_by_fips &lt;- average_salary_by_borough %&gt;%\n  left_join(borough_to_fips, by = \"work_boro\")\naverage_salary_by_fips &lt;- average_salary_by_fips %&gt;%\n  select(COUNTYFP, AverageSalary)\n\nhead(average_salary_by_fips)\n\n# A tibble: 5 × 2\n  COUNTYFP AverageSalary\n  &lt;chr&gt;            &lt;dbl&gt;\n1 005             50428.\n2 047             36477.\n3 061            100433.\n4 085            115659.\n5 081             40035.\n\n\n\n# map Average Salary by NYC Borough\nnyc_tracts_salary &lt;- nyc_tracts %&gt;%\n  left_join(average_salary_by_fips, by = \"COUNTYFP\")\n# Plot the map with average salaries indicated by color\nggplot(nyc_tracts_salary) +\n  geom_sf(aes(fill = AverageSalary), color = \"gray\", size = 0.5) +\n  scale_fill_gradient(low = \"white\", high = \"deepskyblue4\", name = \"Avg Salary\",\n                      na.value = \"grey50\", labels = scales::dollar_format()) +\n  labs(title = \"Average Salary by NYC Borough\",\n       subtitle = \"Color intensity indicates average salary levels\",\n       fill = \"Average Salary\") +\n  theme_minimal() +\n  theme(legend.position = \"right\")\n\n\n\n\n\n# Average Salary and Crime Data Points by NYC Borough\nmap_df &lt;- st_transform(map_df, st_crs(nyc_tracts_salary)$epsg)\nfinal_combined_plot &lt;- ggplot() +\n  geom_sf(data = nyc_tracts_salary, aes(fill = AverageSalary), color = \"gray\", size = 0.5) +\n  geom_sf(data = map_df, aes(color = VIC_RACE), size = 1, alpha = 0.7) +\n  scale_fill_gradient(low = \"white\", high = \"deepskyblue4\", name = \"Avg Salary\",\n                      na.value = \"grey50\", labels = scales::dollar_format()) +\n  scale_color_manual(values = c(\"ASIAN / PACIFIC ISLANDER\" = \"green\", \"BLACK\" = \"brown3\", \"WHITE HISPANIC\" = \"yellow\", \"WHITE\" = \"deeppink\", \"UNKNOWN\" = \"darkgray\", \"BLACK HISPANIC\" = \"darkblue\"), name = \"Victim's Race\") +\n  labs(title = \"Average Salary and Crime Data Points by NYC Borough\",\n       subtitle = \"Boroughs colored by average salary; Points indicate crime locations\",\n       fill = \"Average Salary\", x = \"Longitude\", y = \"Latitude\", color = \"Victim's Race\") +\n  theme_minimal() +\n  theme(legend.position = \"right\")\nprint(final_combined_plot)\n\n\n\n\n\nmap_df &lt;- st_transform(map_df, st_crs(nyc_tracts_salary)$epsg)\nfinal_combined_plot2 &lt;- ggplot() +\n  geom_sf(data = nyc_tracts_salary, aes(fill = AverageSalary), color = \"gray\", size = 0.5) +\n  geom_sf(data = map_df, aes(color = PERP_RACE), size = 1, alpha = 0.7) +\n  scale_fill_gradient(low = \"white\", high = \"deepskyblue4\", name = \"Avg Salary\",\n                      na.value = \"grey50\", labels = scales::dollar_format()) +\n  scale_color_manual(values = c(\"ASIAN / PACIFIC ISLANDER\" = \"green\", \"BLACK\" = \"brown3\", \"WHITE HISPANIC\" = \"yellow\", \"WHITE\" = \"deeppink\", \"UNKNOWN\" = \"darkgray\", \"BLACK HISPANIC\" = \"darkblue\"), name = \"Perpetrator's Race\") +\n  labs(title = \"Average Salary and Crime Data Points by NYC Borough\",\n       subtitle = \"Boroughs colored by average salary; Points indicate crime locations\",\n       fill = \"Average Salary\", x = \"Longitude\", y = \"Latitude\", color = \"Perpetrator's Race\") +\n  theme_minimal() +\n  theme(legend.position = \"right\")\nprint(final_combined_plot2)\n\n\n\n\n\nvic_race &lt;- combined_df |&gt;\n  count(VIC_RACE) |&gt;\n  arrange(desc(n))\n\nggplot(vic_race, aes(x = reorder(VIC_RACE, n), y = n, fill = VIC_RACE)) + \n  geom_bar(stat = \"identity\") +\n  theme_minimal() +\n  labs(title = \"Victim Race Distribution\", x = \"Victim Race\", y = \"Count\") +\n  theme(axis.text.x = element_text(angle = 45, vjust = 0.5, hjust=0.5))\n\n\n\n\n\nlibrary(randomForest)\n\nrandomForest 4.7-1.1\n\n\nType rfNews() to see new features/changes/bug fixes.\n\n\n\nAttaching package: 'randomForest'\n\n\nThe following object is masked from 'package:dplyr':\n\n    combine\n\n\nThe following object is masked from 'package:ggplot2':\n\n    margin\n\nmodeldata &lt;- combined_df %&gt;%\n  mutate(across(where(is.character), as.factor))\n\nfreq &lt;- table(modeldata$OFNS_DESC)\nmodeldata &lt;- modeldata[modeldata$OFNS_DESC %in% names(freq[freq &gt;= 200]), ]\n\nset.seed(123)\ntrain_indices &lt;- sample(1:nrow(modeldata), 0.8 * nrow(modeldata))  # 80% for training\ntrain_data &lt;- modeldata[train_indices, ]\ntest_data &lt;- modeldata[-train_indices, ]\n\nrf_model &lt;- randomForest(BORO ~ PERP_SEX + PERP_RACE + LOC_CLASSFCTN_DESC + PERP_AGE_GROUP + VIC_SEX + VIC_AGE_GROUP + VIC_RACE + OFNS_DESC + STATISTICAL_MURDER_FLAG, \n                         data = train_data, \n                         ntree = 500,\n                         importance = TRUE,\n                         na.action = na.omit)\nplot(rf_model)\n\n\n\n\n\ntest_pred &lt;- predict(rf_model, test_data)\nconf_mat &lt;- table(test_data$BORO, test_pred)\naccuracy &lt;- sum(diag(conf_mat)) / sum(conf_mat)\nprint(paste(\"Accuracy:\", accuracy))\n\n[1] \"Accuracy: 0.839729119638826\"\n\nimportance(rf_model)\n\n                           BRONX  BROOKLYN MANHATTAN   QUEENS STATEN ISLAND\nPERP_SEX                12.69318  9.458377  5.221241 16.35497      -1.33696\nPERP_RACE               50.62434 70.470422 53.080604 39.21863      32.21420\nLOC_CLASSFCTN_DESC      72.91659 67.026035 63.682934 45.41541      32.74132\nPERP_AGE_GROUP          63.38661 67.086130 65.958136 49.27119      36.09068\nVIC_SEX                 35.63953 32.607221 36.428757 18.75103      19.36226\nVIC_AGE_GROUP           53.10915 61.768631 76.562749 48.94069      30.56484\nVIC_RACE                52.47619 63.871629 58.334073 54.85735      24.35468\nOFNS_DESC               69.32860 89.785256 68.497566 62.34784      29.72071\nSTATISTICAL_MURDER_FLAG 29.06915 31.629669 56.325519 22.57633      20.41800\n                        MeanDecreaseAccuracy MeanDecreaseGini\nPERP_SEX                            18.76525         6.746145\nPERP_RACE                           81.56647        79.962885\nLOC_CLASSFCTN_DESC                  95.26111       150.759675\nPERP_AGE_GROUP                      99.03290       122.623032\nVIC_SEX                             49.50069        41.896652\nVIC_AGE_GROUP                       99.71094       136.192321\nVIC_RACE                            85.09536       141.208794\nOFNS_DESC                          123.01682       182.182583\nSTATISTICAL_MURDER_FLAG             57.42919        44.251227\n\nvarImpPlot(rf_model)\n\n\n\n\n\nlibrary(nnet)\n\n\ncombined_df$BORO &lt;- factor(combined_df$BORO)\ncombined_df$LOC_CLASSFCTN_DESC &lt;- factor(combined_df$LOC_CLASSFCTN_DESC)\ncombined_df$PERP_AGE_GROUP &lt;- factor(combined_df$PERP_AGE_GROUP)\ncombined_df$VIC_AGE_GROUP &lt;- factor(combined_df$VIC_AGE_GROUP)\ncombined_df$VIC_RACE &lt;- factor(combined_df$VIC_RACE)\ncombined_df$OFNS_DESC &lt;- factor(combined_df$OFNS_DESC)\n\nmodel &lt;- multinom(BORO ~ LOC_CLASSFCTN_DESC + PERP_AGE_GROUP + VIC_AGE_GROUP + \n                    VIC_RACE + OFNS_DESC, data = combined_df)\n\n# weights:  320 (252 variable)\ninitial  value 5909.856014 \niter  10 value 4481.873149\niter  20 value 4098.349411\niter  30 value 3862.622898\niter  40 value 3815.275185\niter  50 value 3803.097032\niter  60 value 3794.484527\niter  70 value 3791.953534\niter  80 value 3791.144229\niter  90 value 3789.976831\niter 100 value 3789.240580\nfinal  value 3789.240580 \nstopped after 100 iterations\n\nsummary(model)\n\nCall:\nmultinom(formula = BORO ~ LOC_CLASSFCTN_DESC + PERP_AGE_GROUP + \n    VIC_AGE_GROUP + VIC_RACE + OFNS_DESC, data = combined_df)\n\nCoefficients:\n               (Intercept) LOC_CLASSFCTN_DESCDWELLING LOC_CLASSFCTN_DESCHOUSING\nBROOKLYN        5.38309657                  0.1718707                  3.295637\nMANHATTAN       0.46403462                 -2.1523707                  2.180908\nQUEENS          0.01138576                 -1.3614395                  2.359438\nSTATEN ISLAND -13.34881277                  1.9154980                 -1.363051\n              LOC_CLASSFCTN_DESCOTHER LOC_CLASSFCTN_DESCPARKING LOT\nBROOKLYN                   -10.914521                     10.010840\nMANHATTAN                   -1.143160                     12.655627\nQUEENS                     -11.472180                     11.966612\nSTATEN ISLAND               -8.390643                      4.151562\n              LOC_CLASSFCTN_DESCPLAYGROUND LOC_CLASSFCTN_DESCSTREET\nBROOKLYN                          0.349577                0.1641429\nMANHATTAN                        -9.845198               -0.8751595\nQUEENS                           -1.093975               -0.4069299\nSTATEN ISLAND                    -5.444282                0.4083409\n              LOC_CLASSFCTN_DESCTRANSIT LOC_CLASSFCTN_DESCVEHICLE\nBROOKLYN                       2.587202                -13.566446\nMANHATTAN                     -2.669428                -15.193567\nQUEENS                         2.851006                 -4.027211\nSTATEN ISLAND                 -2.069582                -11.946448\n              PERP_AGE_GROUP18-24 PERP_AGE_GROUP25-44 PERP_AGE_GROUP45-64\nBROOKLYN               -0.8569572          -0.2041359          0.98260276\nMANHATTAN              -1.6842132          -1.2386525         -0.03904947\nQUEENS                 -1.8826932          -0.9375756         -0.76083764\nSTATEN ISLAND          -2.3567747          -4.4366553          0.04666818\n              PERP_AGE_GROUP65+ VIC_AGE_GROUP18-24 VIC_AGE_GROUP25-44\nBROOKLYN              -8.873213         0.04889143         -0.4648887\nMANHATTAN             -9.423610         1.68799027          1.5641813\nQUEENS                -8.607682         1.03575833          0.5480964\nSTATEN ISLAND         -1.154381         7.60273788          8.1260337\n              VIC_AGE_GROUP45-64 VIC_AGE_GROUP65+ VIC_AGE_GROUPUNKNOWN\nBROOKLYN              -1.3435642       -0.6298162           3.97523253\nMANHATTAN              1.6719071       -8.4860889          -0.81143390\nQUEENS                -0.1800559       -8.8553482          -0.63612574\nSTATEN ISLAND          6.3432393       -0.1839871           0.08988613\n              VIC_RACEBLACK VIC_RACEBLACK HISPANIC VIC_RACEUNKNOWN\nBROOKLYN         -1.3814241              -2.461144      3.97523253\nMANHATTAN        -0.1546642              -1.505405     -0.81143390\nQUEENS           -1.5842094              -1.070678     -0.63612574\nSTATEN ISLAND     3.9360143              -2.746036      0.08988613\n              VIC_RACEWHITE VIC_RACEWHITE HISPANIC\nBROOKLYN          -3.129484              -2.918213\nMANHATTAN         -0.626568              -1.650751\nQUEENS            -5.236546              -3.357969\nSTATEN ISLAND      1.531347              -3.258405\n              OFNS_DESCALCOHOLIC BEVERAGE CONTROL LAW\nBROOKLYN                                    6.2497664\nMANHATTAN                                  -2.0679762\nQUEENS                                     -0.8608307\nSTATEN ISLAND                              -0.5468655\n              OFNS_DESCASSAULT 3 & RELATED OFFENSES OFNS_DESCBURGLAR'S TOOLS\nBROOKLYN                                 -3.3930757                 4.470462\nMANHATTAN                                 0.2465254                 7.708313\nQUEENS                                    1.4737148                -1.020152\nSTATEN ISLAND                             0.2296628                -1.798457\n              OFNS_DESCBURGLARY OFNS_DESCCANNABIS RELATED OFFENSES\nBROOKLYN             -2.7101618                         -4.4792412\nMANHATTAN             1.8696887                          7.2252667\nQUEENS                0.9655227                          9.6540442\nSTATEN ISLAND         2.2656605                         -0.3396187\n              OFNS_DESCCHILD ABANDONMENT/NON SUPPORT\nBROOKLYN                                  -10.104494\nMANHATTAN                                  -7.609409\nQUEENS                                     -4.269084\nSTATEN ISLAND                              -4.662274\n              OFNS_DESCCRIMINAL MISCHIEF & RELATED OF\nBROOKLYN                                -3.4344480982\nMANHATTAN                               -0.0004441068\nQUEENS                                   1.2919340576\nSTATEN ISLAND                            0.4169907935\n              OFNS_DESCCRIMINAL TRESPASS OFNS_DESCDANGEROUS DRUGS\nBROOKLYN                       -3.449561                -2.809717\nMANHATTAN                       0.207329                 1.424708\nQUEENS                          1.858272                 1.216431\nSTATEN ISLAND                  -5.465592                 1.985349\n              OFNS_DESCDANGEROUS WEAPONS OFNS_DESCFELONY ASSAULT\nBROOKLYN                      -2.3764874             -3.52965082\nMANHATTAN                      0.7904269              0.08852122\nQUEENS                         2.3825572              1.79355032\nSTATEN ISLAND                  1.6730465              0.94812246\n              OFNS_DESCFOR OTHER AUTHORITIES OFNS_DESCFORGERY OFNS_DESCFRAUDS\nBROOKLYN                           -4.331489        -1.886508       -3.802961\nMANHATTAN                          -0.419131         2.058801       -3.348098\nQUEENS                             -8.217205         2.771782       -7.249211\nSTATEN ISLAND                      -6.069437        -4.030094        3.846216\n              OFNS_DESCGAMBLING OFNS_DESCGRAND LARCENY\nBROOKLYN              -2.592840              -1.694616\nMANHATTAN             -1.489660               1.322054\nQUEENS                -7.332114               1.483683\nSTATEN ISLAND         -3.732154               3.804702\n              OFNS_DESCGRAND LARCENY OF MOTOR VEHICLE OFNS_DESCHARRASSMENT 2\nBROOKLYN                                    -4.275515            -1.47144021\nMANHATTAN                                   -8.570816             2.08791486\nQUEENS                                      -7.996689            -0.45007574\nSTATEN ISLAND                                2.043654             0.03881866\n              OFNS_DESCHOMICIDE-NEGLIGENT,UNCLASSIFIE\nBROOKLYN                                  -1.47144021\nMANHATTAN                                  2.08791486\nQUEENS                                    -0.45007574\nSTATEN ISLAND                              0.03881866\n              OFNS_DESCINTOXICATED & IMPAIRED DRIVING\nBROOKLYN                                  -3.20899749\nMANHATTAN                                  0.07996328\nQUEENS                                     2.41339013\nSTATEN ISLAND                             -3.85480606\n              OFNS_DESCINTOXICATED/IMPAIRED DRIVING\nBROOKLYN                                 6.52646039\nMANHATTAN                               -1.85254272\nQUEENS                                  -0.83287035\nSTATEN ISLAND                           -0.05512181\n              OFNS_DESCKIDNAPPING & RELATED OFFENSES\nBROOKLYN                                  5.33502471\nMANHATTAN                                -2.05983054\nQUEENS                                   -1.94794177\nSTATEN ISLAND                             0.02228665\n              OFNS_DESCMISCELLANEOUS PENAL LAW\nBROOKLYN                            -2.9334670\nMANHATTAN                            0.9208626\nQUEENS                               2.4178580\nSTATEN ISLAND                        2.2860207\n              OFNS_DESCMURDER & NON-NEGL. MANSLAUGHTE\nBROOKLYN                                   -4.7207310\nMANHATTAN                                  -0.5599218\nQUEENS                                      2.6057101\nSTATEN ISLAND                              -6.0780024\n              OFNS_DESCNYS LAWS-UNCLASSIFIED FELONY\nBROOKLYN                                  -3.155985\nMANHATTAN                                 -8.425087\nQUEENS                                     2.396077\nSTATEN ISLAND                             -5.098838\n              OFNS_DESCOFF. AGNST PUB ORD SENSBLTY &\nBROOKLYN                                  -4.0611399\nMANHATTAN                                 -0.1091252\nQUEENS                                     0.3820032\nSTATEN ISLAND                             -5.1624376\n              OFNS_DESCOFFENSES AGAINST PUBLIC ADMINI\nBROOKLYN                                   -3.3294383\nMANHATTAN                                   0.4393437\nQUEENS                                      0.6021190\nSTATEN ISLAND                               1.9309745\n              OFNS_DESCOFFENSES AGAINST THE PERSON\nBROOKLYN                                -3.8466893\nMANHATTAN                               -0.8413625\nQUEENS                                  -7.6186545\nSTATEN ISLAND                            2.4417923\n              OFNS_DESCOFFENSES INVOLVING FRAUD\nBROOKLYN                              -3.265997\nMANHATTAN                              1.661809\nQUEENS                                -7.536230\nSTATEN ISLAND                          2.729618\n              OFNS_DESCOTHER OFFENSES RELATED TO THEF OFNS_DESCOTHER STATE LAWS\nBROOKLYN                                    5.5895870                7.00720451\nMANHATTAN                                  10.3162699               11.75541031\nQUEENS                                     12.3175929               -1.73158188\nSTATEN ISLAND                               0.4380312                0.07436408\n              OFNS_DESCOTHER STATE LAWS (NON PENAL LA\nBROOKLYN                                  -3.15127671\nMANHATTAN                                  9.20768165\nQUEENS                                    -0.94169404\nSTATEN ISLAND                             -0.04765943\n              OFNS_DESCOTHER TRAFFIC INFRACTION OFNS_DESCPETIT LARCENY\nBROOKLYN                              -3.149292             -2.7554024\nMANHATTAN                             -8.002306              0.8995785\nQUEENS                                 2.306239              1.0580068\nSTATEN ISLAND                          2.837280             -3.7350105\n              OFNS_DESCPOSSESSION OF STOLEN PROPERTY OFNS_DESCRAPE\nBROOKLYN                                  -3.9196141   -2.17836862\nMANHATTAN                                 -1.4079867    0.04404928\nQUEENS                                     0.9768533    1.89302248\nSTATEN ISLAND                              2.4645774    2.32728333\n              OFNS_DESCROBBERY OFNS_DESCSEX CRIMES\nBROOKLYN            -3.0663303           -2.441760\nMANHATTAN            1.0738103            0.879036\nQUEENS               1.6343687            2.637418\nSTATEN ISLAND        0.9020777            3.149106\n              OFNS_DESCUNAUTHORIZED USE OF A VEHICLE\nBROOKLYN                                   -4.694043\nMANHATTAN                                  -3.512008\nQUEENS                                      0.860939\nSTATEN ISLAND                              -3.941346\n              OFNS_DESCVEHICLE AND TRAFFIC LAWS\nBROOKLYN                             -2.7730431\nMANHATTAN                             0.5946681\nQUEENS                                3.4310808\nSTATEN ISLAND                         2.3499057\n\nStd. Errors:\n              (Intercept) LOC_CLASSFCTN_DESCDWELLING LOC_CLASSFCTN_DESCHOUSING\nBROOKLYN         3.823165                  0.2812438                 0.3853658\nMANHATTAN        8.896781                  0.3271728                 0.3725429\nQUEENS          22.601222                  0.4357313                 0.4450423\nSTATEN ISLAND    9.879301                  0.8536040                 3.4180563\n              LOC_CLASSFCTN_DESCOTHER LOC_CLASSFCTN_DESCPARKING LOT\nBROOKLYN                   31.2701773                      66.76240\nMANHATTAN                   0.3436321                      66.75655\nQUEENS                     50.1932864                      66.76115\nSTATEN ISLAND              38.9892990                      68.22678\n              LOC_CLASSFCTN_DESCPLAYGROUND LOC_CLASSFCTN_DESCSTREET\nBROOKLYN                          0.628701                0.2278195\nMANHATTAN                        46.306222                0.2081963\nQUEENS                            1.185986                0.2876671\nSTATEN ISLAND                    38.976756                0.7749946\n              LOC_CLASSFCTN_DESCTRANSIT LOC_CLASSFCTN_DESCVEHICLE\nBROOKLYN                       1.218343                33.4156788\nMANHATTAN                      1.688946                71.4082859\nQUEENS                         1.326813                 0.7803245\nSTATEN ISLAND                  9.283981                30.2373652\n              PERP_AGE_GROUP18-24 PERP_AGE_GROUP25-44 PERP_AGE_GROUP45-64\nBROOKLYN                0.2033747           0.2138638           0.3273612\nMANHATTAN               0.2084141           0.2154003           0.3372590\nQUEENS                  0.2408102           0.2493313           0.4452929\nSTATEN ISLAND           0.3270553           0.6105946           0.5344809\n              PERP_AGE_GROUP65+ VIC_AGE_GROUP18-24 VIC_AGE_GROUP25-44\nBROOKLYN               56.87460          0.1517981          0.1600797\nMANHATTAN              43.04724          0.2238148          0.2269404\nQUEENS                 56.45754          0.2378393          0.2459359\nSTATEN ISLAND          21.45444          6.4744708          6.4747019\n              VIC_AGE_GROUP45-64 VIC_AGE_GROUP65+ VIC_AGE_GROUPUNKNOWN\nBROOKLYN               0.2306999        0.4763101         3.451548e+01\nMANHATTAN              0.2631408       35.4310960         5.502518e+00\nQUEENS                 0.3450412       47.3031713         7.996824e+01\nSTATEN ISLAND          6.4856317       45.6752495         2.489843e-05\n              VIC_RACEBLACK VIC_RACEBLACK HISPANIC VIC_RACEUNKNOWN\nBROOKLYN          0.5764637              0.6004869    3.451548e+01\nMANHATTAN         0.6462267              0.6725965    5.502518e+00\nQUEENS            0.6277580              0.6452815    7.996824e+01\nSTATEN ISLAND     6.2957449              9.7199912    2.489843e-05\n              VIC_RACEWHITE VIC_RACEWHITE HISPANIC\nBROOKLYN          0.7656591              0.5862328\nMANHATTAN         0.7577864              0.6569682\nQUEENS            1.0439471              0.6527688\nSTATEN ISLAND     6.9755605              7.3125098\n              OFNS_DESCALCOHOLIC BEVERAGE CONTROL LAW\nBROOKLYN                                   127.687515\nMANHATTAN                                   19.536311\nQUEENS                                       7.024816\nSTATEN ISLAND                                3.637502\n              OFNS_DESCASSAULT 3 & RELATED OFFENSES OFNS_DESCBURGLAR'S TOOLS\nBROOKLYN                                   3.771474                50.373106\nMANHATTAN                                  8.869233                51.004682\nQUEENS                                    22.590349                 4.185696\nSTATEN ISLAND                              4.590844                 1.248588\n              OFNS_DESCBURGLARY OFNS_DESCCANNABIS RELATED OFFENSES\nBROOKLYN               3.787897                          75.773712\nMANHATTAN              8.874557                          38.708711\nQUEENS                22.602354                          43.929025\nSTATEN ISLAND          4.685150                           0.932806\n              OFNS_DESCCHILD ABANDONMENT/NON SUPPORT\nBROOKLYN                                    37.95841\nMANHATTAN                                   63.96659\nQUEENS                                      49.80019\nSTATEN ISLAND                               50.42928\n              OFNS_DESCCRIMINAL MISCHIEF & RELATED OF\nBROOKLYN                                     3.776107\nMANHATTAN                                    8.871582\nQUEENS                                      22.592007\nSTATEN ISLAND                                4.671975\n              OFNS_DESCCRIMINAL TRESPASS OFNS_DESCDANGEROUS DRUGS\nBROOKLYN                        3.826792                 3.772347\nMANHATTAN                       8.891409                 8.869215\nQUEENS                         22.602093                22.591209\nSTATEN ISLAND                  40.875094                 4.580792\n              OFNS_DESCDANGEROUS WEAPONS OFNS_DESCFELONY ASSAULT\nBROOKLYN                        3.777018                3.773309\nMANHATTAN                       8.872127                8.870079\nQUEENS                         22.591612               22.590632\nSTATEN ISLAND                   4.606509                4.584973\n              OFNS_DESCFOR OTHER AUTHORITIES OFNS_DESCFORGERY OFNS_DESCFRAUDS\nBROOKLYN                            3.818194         3.854473        3.870786\nMANHATTAN                           8.884248         8.904094        9.124417\nQUEENS                             62.517493        22.612772       63.056490\nSTATEN ISLAND                      49.411660        33.079670        4.737744\n              OFNS_DESCGAMBLING OFNS_DESCGRAND LARCENY\nBROOKLYN               3.879275               3.785448\nMANHATTAN              8.966480               8.877254\nQUEENS                68.089405              22.602934\nSTATEN ISLAND         39.327422               4.613171\n              OFNS_DESCGRAND LARCENY OF MOTOR VEHICLE OFNS_DESCHARRASSMENT 2\nBROOKLYN                                     3.853665            27.43474347\nMANHATTAN                                   36.032256            26.78962133\nQUEENS                                      70.060617            51.92543749\nSTATEN ISLAND                                4.674504             0.06291444\n              OFNS_DESCHOMICIDE-NEGLIGENT,UNCLASSIFIE\nBROOKLYN                                  27.43474347\nMANHATTAN                                 26.78962134\nQUEENS                                    51.92543749\nSTATEN ISLAND                              0.06291444\n              OFNS_DESCINTOXICATED & IMPAIRED DRIVING\nBROOKLYN                                     3.835086\nMANHATTAN                                    8.908448\nQUEENS                                      22.605551\nSTATEN ISLAND                               39.294526\n              OFNS_DESCINTOXICATED/IMPAIRED DRIVING\nBROOKLYN                                137.0021169\nMANHATTAN                                15.9298206\nQUEENS                                    4.9231659\nSTATEN ISLAND                             0.5404113\n              OFNS_DESCKIDNAPPING & RELATED OFFENSES\nBROOKLYN                                1.261155e+02\nMANHATTAN                               3.564659e+01\nQUEENS                                  1.196784e+01\nSTATEN ISLAND                           6.749640e-04\n              OFNS_DESCMISCELLANEOUS PENAL LAW\nBROOKLYN                              3.773880\nMANHATTAN                             8.870171\nQUEENS                               22.590689\nSTATEN ISLAND                         4.588219\n              OFNS_DESCMURDER & NON-NEGL. MANSLAUGHTE\nBROOKLYN                                     3.908566\nMANHATTAN                                    8.914976\nQUEENS                                      22.605899\nSTATEN ISLAND                               46.134791\n              OFNS_DESCNYS LAWS-UNCLASSIFIED FELONY\nBROOKLYN                                   3.855648\nMANHATTAN                                 43.211854\nQUEENS                                    22.607014\nSTATEN ISLAND                             51.183037\n              OFNS_DESCOFF. AGNST PUB ORD SENSBLTY &\nBROOKLYN                                    3.809241\nMANHATTAN                                   8.883665\nQUEENS                                     22.604996\nSTATEN ISLAND                              36.096183\n              OFNS_DESCOFFENSES AGAINST PUBLIC ADMINI\nBROOKLYN                                     3.777585\nMANHATTAN                                    8.872059\nQUEENS                                      22.594873\nSTATEN ISLAND                                4.594418\n              OFNS_DESCOFFENSES AGAINST THE PERSON\nBROOKLYN                                  3.819607\nMANHATTAN                                 8.906848\nQUEENS                                   61.643976\nSTATEN ISLAND                             4.651208\n              OFNS_DESCOFFENSES INVOLVING FRAUD\nBROOKLYN                               3.796663\nMANHATTAN                              8.875805\nQUEENS                                56.200447\nSTATEN ISLAND                          4.609548\n              OFNS_DESCOTHER OFFENSES RELATED TO THEF OFNS_DESCOTHER STATE LAWS\nBROOKLYN                                   48.2249143              78.441147473\nMANHATTAN                                  48.8935631              78.854196485\nQUEENS                                     53.1176497               1.643681636\nSTATEN ISLAND                               0.3737237               0.002794832\n              OFNS_DESCOTHER STATE LAWS (NON PENAL LA\nBROOKLYN                                   80.8045390\nMANHATTAN                                  61.8503432\nQUEENS                                      6.6957945\nSTATEN ISLAND                               0.6073257\n              OFNS_DESCOTHER TRAFFIC INFRACTION OFNS_DESCPETIT LARCENY\nBROOKLYN                               3.808921               3.771874\nMANHATTAN                             31.327689               8.869694\nQUEENS                                22.598605              22.592472\nSTATEN ISLAND                          4.645843               8.593164\n              OFNS_DESCPOSSESSION OF STOLEN PROPERTY OFNS_DESCRAPE\nBROOKLYN                                    3.806913      3.776228\nMANHATTAN                                   8.900884      8.876068\nQUEENS                                     22.603148     22.593480\nSTATEN ISLAND                               4.652236      4.600900\n              OFNS_DESCROBBERY OFNS_DESCSEX CRIMES\nBROOKLYN              3.780023            3.770136\nMANHATTAN             8.871934            8.868785\nQUEENS               22.593134           22.589801\nSTATEN ISLAND         4.673316            4.572057\n              OFNS_DESCUNAUTHORIZED USE OF A VEHICLE\nBROOKLYN                                    3.892620\nMANHATTAN                                   9.208759\nQUEENS                                     22.619077\nSTATEN ISLAND                              43.376362\n              OFNS_DESCVEHICLE AND TRAFFIC LAWS\nBROOKLYN                               3.777711\nMANHATTAN                              8.872558\nQUEENS                                22.590815\nSTATEN ISLAND                          4.589657\n\nResidual Deviance: 7578.481 \nAIC: 8074.481 \n\npredicted_classes &lt;- predict(model, newdata = combined_df)\npredicted_probs &lt;- predict(model, newdata = combined_df, type = \"probs\")\n\n\nlibrary(nnet)\n\n\ncombined_df$BORO &lt;- factor(combined_df$BORO)\ncombined_df$LOC_CLASSFCTN_DESC &lt;- factor(combined_df$LOC_CLASSFCTN_DESC)\ncombined_df$PERP_AGE_GROUP &lt;- factor(combined_df$PERP_AGE_GROUP)\ncombined_df$VIC_AGE_GROUP &lt;- factor(combined_df$VIC_AGE_GROUP)\ncombined_df$VIC_RACE &lt;- factor(combined_df$VIC_RACE)\ncombined_df$OFNS_DESC &lt;- factor(combined_df$OFNS_DESC)\n\nmodel &lt;- multinom(BORO ~ LOC_CLASSFCTN_DESC + PERP_RACE + PERP_AGE_GROUP + VIC_AGE_GROUP + \n                    VIC_RACE + OFNS_DESC, data = combined_df)\n\n# weights:  340 (268 variable)\ninitial  value 5909.856014 \niter  10 value 4346.177699\niter  20 value 3985.365782\niter  30 value 3766.005650\niter  40 value 3697.523673\niter  50 value 3672.737513\niter  60 value 3656.389152\niter  70 value 3650.721596\niter  80 value 3648.619727\niter  90 value 3647.553311\niter 100 value 3646.883265\nfinal  value 3646.883265 \nstopped after 100 iterations\n\nsummary(model)\n\nCall:\nmultinom(formula = BORO ~ LOC_CLASSFCTN_DESC + PERP_RACE + PERP_AGE_GROUP + \n    VIC_AGE_GROUP + VIC_RACE + OFNS_DESC, data = combined_df)\n\nCoefficients:\n              (Intercept) LOC_CLASSFCTN_DESCDWELLING LOC_CLASSFCTN_DESCHOUSING\nBROOKLYN        -2.373918                  0.1221416                  3.012517\nMANHATTAN       -5.166003                 -2.2408176                  1.888519\nQUEENS          15.302853                 -1.6785343                  1.964891\nSTATEN ISLAND  -13.374809                  1.7407029                 -8.091718\n              LOC_CLASSFCTN_DESCOTHER LOC_CLASSFCTN_DESCPARKING LOT\nBROOKLYN                   -17.380383                     12.606658\nMANHATTAN                   -1.390217                     15.077706\nQUEENS                     -13.390927                     14.396440\nSTATEN ISLAND               -9.819640                      5.974809\n              LOC_CLASSFCTN_DESCPLAYGROUND LOC_CLASSFCTN_DESCSTREET\nBROOKLYN                       -0.07064734               0.09804304\nMANHATTAN                     -15.01557591              -0.96167149\nQUEENS                         -1.58376597              -0.69435812\nSTATEN ISLAND                  -7.54638821               0.06403714\n              LOC_CLASSFCTN_DESCTRANSIT LOC_CLASSFCTN_DESCVEHICLE\nBROOKLYN                       2.065785                -20.411063\nMANHATTAN                     -2.941965                -20.130867\nQUEENS                         3.136824                 -3.635781\nSTATEN ISLAND                 -1.765486                -14.336368\n              PERP_RACEBLACK PERP_RACEBLACK HISPANIC PERP_RACEWHITE\nBROOKLYN            7.257759                2.576457      0.5269339\nMANHATTAN           5.566472                4.137775     -1.9974501\nQUEENS            -16.814595              -19.552619    -10.3496025\nSTATEN ISLAND      -2.361860               -8.048572     19.1105182\n              PERP_RACEWHITE HISPANIC PERP_AGE_GROUP18-24 PERP_AGE_GROUP25-44\nBROOKLYN                     6.172678          -0.8352539          -0.1182323\nMANHATTAN                    4.734586          -1.6948341          -1.2072681\nQUEENS                     -16.388660          -2.1166145          -1.2173662\nSTATEN ISLAND               -8.362695          -2.4655966          -4.3411867\n              PERP_AGE_GROUP45-64 PERP_AGE_GROUP65+ VIC_AGE_GROUP18-24\nBROOKLYN               0.94499542         -13.35905          0.2943241\nMANHATTAN             -0.07371546         -16.27690          1.8817583\nQUEENS                -1.60772732         -12.56288          1.2253106\nSTATEN ISLAND         -0.08329483          -7.16342          9.5105098\n              VIC_AGE_GROUP25-44 VIC_AGE_GROUP45-64 VIC_AGE_GROUP65+\nBROOKLYN              -0.3752018         -1.0853066       -0.5884557\nMANHATTAN              1.6577723          1.9084363      -13.4846472\nQUEENS                 0.6981710          0.1812106      -10.3703336\nSTATEN ISLAND          9.5148597          8.0086777       -0.3196128\n              VIC_AGE_GROUPUNKNOWN VIC_RACEBLACK VIC_RACEBLACK HISPANIC\nBROOKLYN                  4.377609    -1.0858192             -1.7044946\nMANHATTAN                -1.249051     0.1267509             -0.8912605\nQUEENS                   -1.082861    -0.4398343              0.1653753\nSTATEN ISLAND             3.303089     5.4044408             -2.6109862\n              VIC_RACEUNKNOWN VIC_RACEWHITE VIC_RACEWHITE HISPANIC\nBROOKLYN             4.377609   -2.41276458             -1.9884726\nMANHATTAN           -1.249051   -0.00460398             -0.8660246\nQUEENS              -1.082861   -4.02871885             -2.1737595\nSTATEN ISLAND        3.303089   -3.29667776             -2.5700047\n              OFNS_DESCALCOHOLIC BEVERAGE CONTROL LAW\nBROOKLYN                                    8.2336958\nMANHATTAN                                  -3.6529684\nQUEENS                                     -1.0848431\nSTATEN ISLAND                              -0.4307234\n              OFNS_DESCASSAULT 3 & RELATED OFFENSES OFNS_DESCBURGLAR'S TOOLS\nBROOKLYN                                 -3.1630252                 5.204052\nMANHATTAN                                 0.0879050                 8.062815\nQUEENS                                    2.1978875                -1.218981\nSTATEN ISLAND                             0.1087353                -2.260365\n              OFNS_DESCBURGLARY OFNS_DESCCANNABIS RELATED OFFENSES\nBROOKLYN              -2.605770                         -6.9238697\nMANHATTAN              1.633311                          8.2703326\nQUEENS                 1.713103                         11.6460965\nSTATEN ISLAND          1.972926                         -0.9573584\n              OFNS_DESCCHILD ABANDONMENT/NON SUPPORT\nBROOKLYN                                  -10.381361\nMANHATTAN                                  -7.967030\nQUEENS                                     -3.058734\nSTATEN ISLAND                              -4.530470\n              OFNS_DESCCRIMINAL MISCHIEF & RELATED OF\nBROOKLYN                                   -3.1046075\nMANHATTAN                                  -0.0922304\nQUEENS                                      2.0517055\nSTATEN ISLAND                               0.3199100\n              OFNS_DESCCRIMINAL TRESPASS OFNS_DESCDANGEROUS DRUGS\nBROOKLYN                     -3.31505274                -2.639850\nMANHATTAN                    -0.03627709                 1.229356\nQUEENS                        2.41913325                 1.535873\nSTATEN ISLAND                -4.85964831                 1.742550\n              OFNS_DESCDANGEROUS WEAPONS OFNS_DESCFELONY ASSAULT\nBROOKLYN                      -2.2815398             -3.29025472\nMANHATTAN                      0.5398624             -0.05922242\nQUEENS                         3.0131076              2.55716200\nSTATEN ISLAND                  1.4081399              0.78409551\n              OFNS_DESCFOR OTHER AUTHORITIES OFNS_DESCFORGERY OFNS_DESCFRAUDS\nBROOKLYN                           -3.746351        -1.705361       -3.721927\nMANHATTAN                          -0.321545         1.823530       -3.152096\nQUEENS                             -9.112956         2.724973       -9.009103\nSTATEN ISLAND                      -5.790101        -4.628855        3.419626\n              OFNS_DESCGAMBLING OFNS_DESCGRAND LARCENY\nBROOKLYN              -2.508884              -1.337965\nMANHATTAN             -1.761691               1.251408\nQUEENS                -8.637388               2.275195\nSTATEN ISLAND         -5.918874               3.372359\n              OFNS_DESCGRAND LARCENY OF MOTOR VEHICLE OFNS_DESCHARRASSMENT 2\nBROOKLYN                                    -3.513100            -1.21501172\nMANHATTAN                                  -12.811909             1.71785221\nQUEENS                                      -7.665202             0.04428426\nSTATEN ISLAND                                2.313070            -0.21056524\n              OFNS_DESCHOMICIDE-NEGLIGENT,UNCLASSIFIE\nBROOKLYN                                  -1.21501172\nMANHATTAN                                  1.71785221\nQUEENS                                     0.04428426\nSTATEN ISLAND                             -0.21056524\n              OFNS_DESCINTOXICATED & IMPAIRED DRIVING\nBROOKLYN                                   -2.5520516\nMANHATTAN                                   0.2201628\nQUEENS                                      2.9579383\nSTATEN ISLAND                               0.2310322\n              OFNS_DESCINTOXICATED/IMPAIRED DRIVING\nBROOKLYN                                  8.3841198\nMANHATTAN                                -3.0745798\nQUEENS                                   -1.0191140\nSTATEN ISLAND                            -0.1100694\n              OFNS_DESCKIDNAPPING & RELATED OFFENSES\nBROOKLYN                                  6.67016039\nMANHATTAN                                -2.99096065\nQUEENS                                   -2.45511266\nSTATEN ISLAND                             0.06634855\n              OFNS_DESCMISCELLANEOUS PENAL LAW\nBROOKLYN                             -2.759093\nMANHATTAN                             0.744649\nQUEENS                                3.163586\nSTATEN ISLAND                         2.231243\n              OFNS_DESCMURDER & NON-NEGL. MANSLAUGHTE\nBROOKLYN                                   -4.3328833\nMANHATTAN                                  -0.4239123\nQUEENS                                      3.7490261\nSTATEN ISLAND                              -7.1542534\n              OFNS_DESCNYS LAWS-UNCLASSIFIED FELONY\nBROOKLYN                                  -2.892620\nMANHATTAN                                -11.401162\nQUEENS                                     3.240193\nSTATEN ISLAND                             -5.979946\n              OFNS_DESCOFF. AGNST PUB ORD SENSBLTY &\nBROOKLYN                                  -3.9793037\nMANHATTAN                                 -0.3314121\nQUEENS                                     1.1020024\nSTATEN ISLAND                             -4.8840801\n              OFNS_DESCOFFENSES AGAINST PUBLIC ADMINI\nBROOKLYN                                    -3.161254\nMANHATTAN                                    0.241304\nQUEENS                                       1.156733\nSTATEN ISLAND                                1.724242\n              OFNS_DESCOFFENSES AGAINST THE PERSON\nBROOKLYN                                -3.3022501\nMANHATTAN                               -0.6489853\nQUEENS                                  -8.7896812\nSTATEN ISLAND                            2.8591081\n              OFNS_DESCOFFENSES INVOLVING FRAUD\nBROOKLYN                              -2.686364\nMANHATTAN                              1.776641\nQUEENS                                -6.431878\nSTATEN ISLAND                          2.498034\n              OFNS_DESCOTHER OFFENSES RELATED TO THEF OFNS_DESCOTHER STATE LAWS\nBROOKLYN                                     7.807339                  9.360799\nMANHATTAN                                   11.892542                 13.832912\nQUEENS                                      14.556856                 -3.004911\nSTATEN ISLAND                                5.989067                  1.044460\n              OFNS_DESCOTHER STATE LAWS (NON PENAL LA\nBROOKLYN                                   -5.1108509\nMANHATTAN                                  12.1571537\nQUEENS                                     -1.3887966\nSTATEN ISLAND                               0.1408587\n              OFNS_DESCOTHER TRAFFIC INFRACTION OFNS_DESCPETIT LARCENY\nBROOKLYN                              -2.950695             -2.7523521\nMANHATTAN                            -12.430420              0.5926297\nQUEENS                                 2.887470              1.5648049\nSTATEN ISLAND                          2.573880             -6.2457192\n              OFNS_DESCPOSSESSION OF STOLEN PROPERTY OFNS_DESCRAPE\nBROOKLYN                                   -3.548744    -1.9283839\nMANHATTAN                                  -1.352005    -0.0922759\nQUEENS                                      1.585890     2.5251511\nSTATEN ISLAND                               2.364024     2.2242799\n              OFNS_DESCROBBERY OFNS_DESCSEX CRIMES\nBROOKLYN            -2.9691321          -2.0721705\nMANHATTAN            0.8240710           0.8196095\nQUEENS               2.2911473           3.2508879\nSTATEN ISLAND        0.5474707           2.8450814\n              OFNS_DESCUNAUTHORIZED USE OF A VEHICLE\nBROOKLYN                                   -3.973077\nMANHATTAN                                  -2.554067\nQUEENS                                      1.976917\nSTATEN ISLAND                              -4.980322\n              OFNS_DESCVEHICLE AND TRAFFIC LAWS\nBROOKLYN                             -2.3554988\nMANHATTAN                             0.6204204\nQUEENS                                4.4163541\nSTATEN ISLAND                         2.3906467\n\nStd. Errors:\n              (Intercept) LOC_CLASSFCTN_DESCDWELLING LOC_CLASSFCTN_DESCHOUSING\nBROOKLYN         2.475680                  0.2893580                 0.3839506\nMANHATTAN        5.546627                  0.3316622                 0.3699146\nQUEENS          14.514822                  0.4654247                 0.4438445\nSTATEN ISLAND   14.445551                  0.8815954                79.2936076\n              LOC_CLASSFCTN_DESCOTHER LOC_CLASSFCTN_DESCPARKING LOT\nBROOKLYN                 2.636761e-05                     0.8060919\nMANHATTAN                3.486555e-01                     0.6111661\nQUEENS                   1.206772e+02                     0.7142570\nSTATEN ISLAND            6.037758e+01                     1.0335359\n              LOC_CLASSFCTN_DESCPLAYGROUND LOC_CLASSFCTN_DESCSTREET\nBROOKLYN                      6.219333e-01                0.2349476\nMANHATTAN                     8.201556e-05                0.2120541\nQUEENS                        1.209765e+00                0.2938414\nSTATEN ISLAND                 7.251280e+01                0.7803210\n              LOC_CLASSFCTN_DESCTRANSIT LOC_CLASSFCTN_DESCVEHICLE\nBROOKLYN                       1.224717              1.507987e-05\nMANHATTAN                      1.658728              2.168612e-05\nQUEENS                         1.324996              8.017836e-01\nSTATEN ISLAND                 15.267480              7.474944e+01\n              PERP_RACEBLACK PERP_RACEBLACK HISPANIC PERP_RACEWHITE\nBROOKLYN           0.8591915                1.109700   2.083260e-07\nMANHATTAN          1.8509230                1.860893   9.154079e-08\nQUEENS             4.9026198                4.922927   9.392986e-02\nSTATEN ISLAND      5.9526968               11.367733   9.395367e-02\n              PERP_RACEWHITE HISPANIC PERP_AGE_GROUP18-24 PERP_AGE_GROUP25-44\nBROOKLYN                    0.8623001           0.2125433           0.2261244\nMANHATTAN                   1.8524455           0.2169528           0.2258099\nQUEENS                      4.9038531           0.2546401           0.2659732\nSTATEN ISLAND               6.9223139           0.3497728           0.6324370\n              PERP_AGE_GROUP45-64 PERP_AGE_GROUP65+ VIC_AGE_GROUP18-24\nBROOKLYN                0.3395641      1.535295e-05          0.1561677\nMANHATTAN               0.3474382      2.096217e-06          0.2255448\nQUEENS                  0.4926693      6.521206e-05          0.2445657\nSTATEN ISLAND           0.5616370      2.267146e-03         13.7793115\n              VIC_AGE_GROUP25-44 VIC_AGE_GROUP45-64 VIC_AGE_GROUP65+\nBROOKLYN               0.1629780          0.2366768     4.801175e-01\nMANHATTAN              0.2276552          0.2661800     1.183092e-04\nQUEENS                 0.2538300          0.3512843     1.054845e+02\nSTATEN ISLAND         13.7795298         13.7853937     9.737610e+01\n              VIC_AGE_GROUPUNKNOWN VIC_RACEBLACK VIC_RACEBLACK HISPANIC\nBROOKLYN              5.161205e+01     0.5584027              0.5883901\nMANHATTAN             9.378493e-01     0.6369578              0.6679914\nQUEENS                1.649147e+00     0.6655160              0.6906061\nSTATEN ISLAND         6.115585e-04    11.1270211             21.2640025\n              VIC_RACEUNKNOWN VIC_RACEWHITE VIC_RACEWHITE HISPANIC\nBROOKLYN         5.161205e+01     0.7590163              0.5747958\nMANHATTAN        9.378493e-01     0.7535498              0.6546495\nQUEENS           1.649147e+00     1.0716898              0.6997092\nSTATEN ISLAND    6.115585e-04    72.6738310             13.7430901\n              OFNS_DESCALCOHOLIC BEVERAGE CONTROL LAW\nBROOKLYN                                   0.03195188\nMANHATTAN                                  0.00373652\nQUEENS                                     0.03315128\nSTATEN ISLAND                              0.02474071\n              OFNS_DESCASSAULT 3 & RELATED OFFENSES OFNS_DESCBURGLAR'S TOOLS\nBROOKLYN                                   3.226219                72.951839\nMANHATTAN                                  7.362668                73.249082\nQUEENS                                    19.399792                 1.172118\nSTATEN ISLAND                              7.051969                 1.402493\n              OFNS_DESCBURGLARY OFNS_DESCCANNABIS RELATED OFFENSES\nBROOKLYN               3.245646                          4.2075654\nMANHATTAN              7.369060                         73.0168113\nQUEENS                19.413614                         74.7447077\nSTATEN ISLAND          7.114532                          0.9846135\n              OFNS_DESCCHILD ABANDONMENT/NON SUPPORT\nBROOKLYN                                    47.05941\nMANHATTAN                                   68.45276\nQUEENS                                      40.12260\nSTATEN ISLAND                               47.19064\n              OFNS_DESCCRIMINAL MISCHIEF & RELATED OF\nBROOKLYN                                     3.232122\nMANHATTAN                                    7.365651\nQUEENS                                      19.402064\nSTATEN ISLAND                                7.107213\n              OFNS_DESCCRIMINAL TRESPASS OFNS_DESCDANGEROUS DRUGS\nBROOKLYN                        3.292041                 3.227059\nMANHATTAN                       7.390535                 7.362477\nQUEENS                         19.413347                19.401125\nSTATEN ISLAND                  30.821715                 7.045238\n              OFNS_DESCDANGEROUS WEAPONS OFNS_DESCFELONY ASSAULT\nBROOKLYN                        3.232650                3.228272\nMANHATTAN                       7.366141                7.363642\nQUEENS                         19.401294               19.400077\nSTATEN ISLAND                   7.062158                7.048412\n              OFNS_DESCFOR OTHER AUTHORITIES OFNS_DESCFORGERY OFNS_DESCFRAUDS\nBROOKLYN                            3.286651         3.322337        3.337766\nMANHATTAN                           7.381994         7.404837        7.625587\nQUEENS                             39.317347        19.438595        9.163893\nSTATEN ISLAND                      46.269632        39.037878        7.146960\n              OFNS_DESCGAMBLING OFNS_DESCGRAND LARCENY\nBROOKLYN               3.349085               3.243860\nMANHATTAN              7.478954               7.372600\nQUEENS                19.495055              19.414510\nSTATEN ISLAND        112.502384               7.073117\n              OFNS_DESCGRAND LARCENY OF MOTOR VEHICLE OFNS_DESCHARRASSMENT 2\nBROOKLYN                                     3.343023           2.593394e+01\nMANHATTAN                                    0.172956           2.552519e+01\nQUEENS                                     126.773562           4.993257e+01\nSTATEN ISLAND                                7.125568           1.242395e-04\n              OFNS_DESCHOMICIDE-NEGLIGENT,UNCLASSIFIE\nBROOKLYN                                 2.593394e+01\nMANHATTAN                                2.552519e+01\nQUEENS                                   4.993257e+01\nSTATEN ISLAND                            1.242395e-04\n              OFNS_DESCINTOXICATED & IMPAIRED DRIVING\nBROOKLYN                                     3.305236\nMANHATTAN                                    7.410816\nQUEENS                                      19.417832\nSTATEN ISLAND                               41.782037\n              OFNS_DESCINTOXICATED/IMPAIRED DRIVING\nBROOKLYN                                0.024004703\nMANHATTAN                               0.004305309\nQUEENS                                  0.028436423\nSTATEN ISLAND                           0.002243371\n              OFNS_DESCKIDNAPPING & RELATED OFFENSES\nBROOKLYN                                5.211567e-02\nMANHATTAN                               2.083543e-02\nQUEENS                                  8.297418e-02\nSTATEN ISLAND                           1.769213e-08\n              OFNS_DESCMISCELLANEOUS PENAL LAW\nBROOKLYN                              3.229041\nMANHATTAN                             7.363806\nQUEENS                               19.400214\nSTATEN ISLAND                         7.050516\n              OFNS_DESCMURDER & NON-NEGL. MANSLAUGHTE\nBROOKLYN                                     3.407450\nMANHATTAN                                    7.421784\nQUEENS                                      19.421127\nSTATEN ISLAND                               81.196624\n              OFNS_DESCNYS LAWS-UNCLASSIFIED FELONY\nBROOKLYN                                  3.3423370\nMANHATTAN                                 0.6414121\nQUEENS                                   19.4224917\nSTATEN ISLAND                            69.9382438\n              OFNS_DESCOFF. AGNST PUB ORD SENSBLTY &\nBROOKLYN                                    3.269627\nMANHATTAN                                   7.379333\nQUEENS                                     19.416815\nSTATEN ISLAND                              32.478872\n              OFNS_DESCOFFENSES AGAINST PUBLIC ADMINI\nBROOKLYN                                     3.233233\nMANHATTAN                                    7.366073\nQUEENS                                      19.405405\nSTATEN ISLAND                                7.054856\n              OFNS_DESCOFFENSES AGAINST THE PERSON\nBROOKLYN                                  3.288078\nMANHATTAN                                 7.410257\nQUEENS                                   14.786491\nSTATEN ISLAND                             7.104285\n              OFNS_DESCOFFENSES INVOLVING FRAUD\nBROOKLYN                               3.261392\nMANHATTAN                              7.371974\nQUEENS                                53.649051\nSTATEN ISLAND                          7.070728\n              OFNS_DESCOTHER OFFENSES RELATED TO THEF OFNS_DESCOTHER STATE LAWS\nBROOKLYN                                     35.67819              3.493044e+00\nMANHATTAN                                    36.02008              3.421493e+00\nQUEENS                                       37.76761              5.881336e-03\nSTATEN ISLAND                                81.62285              1.316643e-05\n              OFNS_DESCOTHER STATE LAWS (NON PENAL LA\nBROOKLYN                                  0.024665650\nMANHATTAN                                 0.195414423\nQUEENS                                    0.026734043\nSTATEN ISLAND                             0.004016735\n              OFNS_DESCOTHER TRAFFIC INFRACTION OFNS_DESCPETIT LARCENY\nBROOKLYN                              3.2717205               3.226571\nMANHATTAN                             0.2521706               7.363078\nQUEENS                               19.4092622              19.402232\nSTATEN ISLAND                         7.0922108              23.791050\n              OFNS_DESCPOSSESSION OF STOLEN PROPERTY OFNS_DESCRAPE\nBROOKLYN                                    3.270239      3.232076\nMANHATTAN                                   7.400413      7.370966\nQUEENS                                     19.415171     19.403627\nSTATEN ISLAND                               7.099297      7.058730\n              OFNS_DESCROBBERY OFNS_DESCSEX CRIMES\nBROOKLYN              3.236635            3.224496\nMANHATTAN             7.366055            7.362071\nQUEENS               19.403140           19.399242\nSTATEN ISLAND         7.108963            7.040376\n              OFNS_DESCUNAUTHORIZED USE OF A VEHICLE\nBROOKLYN                                    3.387518\nMANHATTAN                                   7.669677\nQUEENS                                     19.433308\nSTATEN ISLAND                              70.844476\n              OFNS_DESCVEHICLE AND TRAFFIC LAWS\nBROOKLYN                               3.235327\nMANHATTAN                              7.367224\nQUEENS                                19.400613\nSTATEN ISLAND                          7.051979\n\nResidual Deviance: 7293.767 \nAIC: 7821.767 \n\npredicted_classes &lt;- predict(model, newdata = combined_df)\npredicted_probs &lt;- predict(model, newdata = combined_df, type = \"probs\")\n\n\nset.seed(123)  # for reproducibility\nindex &lt;- createDataPartition(combined_df$BORO, p = 0.80, list = FALSE)\ntrain_data &lt;- combined_df[index, ]\ntest_data &lt;- combined_df[-index, ]\n\nmodel1 &lt;- multinom(BORO ~ LOC_CLASSFCTN_DESC + PERP_RACE + PERP_AGE_GROUP + VIC_AGE_GROUP + VIC_RACE + OFNS_DESC + STATISTICAL_MURDER_FLAG, data = train_data)\n\n# weights:  345 (272 variable)\ninitial  value 4731.747463 \niter  10 value 3503.178937\niter  20 value 3139.207783\niter  30 value 2953.000193\niter  40 value 2920.501733\niter  50 value 2898.352874\niter  60 value 2885.566650\niter  70 value 2881.773075\niter  80 value 2880.241604\niter  90 value 2879.331694\niter 100 value 2878.781392\nfinal  value 2878.781392 \nstopped after 100 iterations\n\npredictions &lt;- predict(model1, test_data)\nsummary(model1)\n\nCall:\nmultinom(formula = BORO ~ LOC_CLASSFCTN_DESC + PERP_RACE + PERP_AGE_GROUP + \n    VIC_AGE_GROUP + VIC_RACE + OFNS_DESC + STATISTICAL_MURDER_FLAG, \n    data = train_data)\n\nCoefficients:\n              (Intercept) LOC_CLASSFCTN_DESCDWELLING LOC_CLASSFCTN_DESCHOUSING\nBROOKLYN        -2.146518                 -0.1093128                  2.902306\nMANHATTAN       -6.473590                 -2.4481023                  1.890714\nQUEENS          20.134083                 -2.2922430                  1.752026\nSTATEN ISLAND  -17.556510                  1.9714368                 -5.493919\n              LOC_CLASSFCTN_DESCOTHER LOC_CLASSFCTN_DESCPARKING LOT\nBROOKLYN                   -23.893864                     14.199892\nMANHATTAN                   -1.794555                     16.680180\nQUEENS                     -16.667436                     15.116368\nSTATEN ISLAND              -10.747652                      3.774085\n              LOC_CLASSFCTN_DESCPLAYGROUND LOC_CLASSFCTN_DESCSTREET\nBROOKLYN                        -0.1811225               -0.2397904\nMANHATTAN                      -16.0090564               -1.1973859\nQUEENS                          -1.3742855               -1.1429493\nSTATEN ISLAND                   -8.4548673                0.1423831\n              LOC_CLASSFCTN_DESCTRANSIT LOC_CLASSFCTN_DESCVEHICLE\nBROOKLYN                       1.484322                -19.107242\nMANHATTAN                     -3.292679                -32.238939\nQUEENS                         2.588706                 -2.969077\nSTATEN ISLAND                 -3.338213                -15.899777\n              PERP_RACEBLACK PERP_RACEBLACK HISPANIC PERP_RACEWHITE\nBROOKLYN            7.744113                3.247179      -1.003382\nMANHATTAN           6.106616                4.604333      -2.928040\nQUEENS            -22.929612              -25.377144      -9.780928\nSTATEN ISLAND      -1.063281               -8.183772      22.587221\n              PERP_RACEWHITE HISPANIC PERP_AGE_GROUP18-24 PERP_AGE_GROUP25-44\nBROOKLYN                     6.611499           -0.808527          -0.1317567\nMANHATTAN                    5.298647           -1.681650          -1.2111879\nQUEENS                     -22.589849           -2.095049          -1.2027058\nSTATEN ISLAND               -8.834242           -2.641508          -4.9046214\n              PERP_AGE_GROUP45-64 PERP_AGE_GROUP65+ VIC_AGE_GROUP18-24\nBROOKLYN                1.1931891        -15.876426          0.1728374\nMANHATTAN               0.1602213        -17.702057          1.8033960\nQUEENS                 -1.5339371        -14.234391          1.2607504\nSTATEN ISLAND          -0.4224033         -8.035911          9.7366621\n              VIC_AGE_GROUP25-44 VIC_AGE_GROUP45-64 VIC_AGE_GROUP65+\nBROOKLYN              -0.4056737        -1.26362284       -1.0508181\nMANHATTAN              1.5959349         1.71002678      -15.4423757\nQUEENS                 0.7208382         0.02729998      -13.8367142\nSTATEN ISLAND         10.1200572         8.49974298       -0.9886953\n              VIC_AGE_GROUPUNKNOWN VIC_RACEBLACK VIC_RACEBLACK HISPANIC\nBROOKLYN                 5.3142387    -0.7481458             -1.3845072\nMANHATTAN               -0.8068516     0.6761221             -0.2125031\nQUEENS                  -1.6122360    -0.0443992              0.6372399\nSTATEN ISLAND            2.8888704     7.2215776             -1.9279042\n              VIC_RACEUNKNOWN VIC_RACEWHITE VIC_RACEWHITE HISPANIC\nBROOKLYN            5.3142387    -1.7827956             -1.7193885\nMANHATTAN          -0.8068516     0.8112667             -0.4337374\nQUEENS             -1.6122360    -2.7234265             -1.8840204\nSTATEN ISLAND       2.8888704    -1.4688085             -2.8628012\n              OFNS_DESCALCOHOLIC BEVERAGE CONTROL LAW\nBROOKLYN                                    7.1533901\nMANHATTAN                                  -3.6849383\nQUEENS                                     -0.6225654\nSTATEN ISLAND                              -1.4659161\n              OFNS_DESCASSAULT 3 & RELATED OFFENSES OFNS_DESCBURGLAR'S TOOLS\nBROOKLYN                                 -3.7002146                 6.333434\nMANHATTAN                                 0.6428144                10.290644\nQUEENS                                    3.6724781                -1.350743\nSTATEN ISLAND                             0.7091450                -3.089424\n              OFNS_DESCBURGLARY OFNS_DESCCANNABIS RELATED OFFENSES\nBROOKLYN              -3.037457                         -8.1470470\nMANHATTAN              2.477442                          9.0711136\nQUEENS               -11.230970                         13.1021441\nSTATEN ISLAND         -4.983253                         -0.8406538\n              OFNS_DESCCHILD ABANDONMENT/NON SUPPORT\nBROOKLYN                                  -12.487169\nMANHATTAN                                  -9.235221\nQUEENS                                     -3.778131\nSTATEN ISLAND                              -5.258535\n              OFNS_DESCCRIMINAL MISCHIEF & RELATED OF\nBROOKLYN                                   -3.6209609\nMANHATTAN                                   0.7375183\nQUEENS                                      3.5819197\nSTATEN ISLAND                               1.2560642\n              OFNS_DESCCRIMINAL TRESPASS OFNS_DESCDANGEROUS DRUGS\nBROOKLYN                      -4.1779051                -3.361069\nMANHATTAN                      0.1340611                 1.712954\nQUEENS                         3.6735583                 2.905907\nSTATEN ISLAND                 -5.3634214                 2.170033\n              OFNS_DESCDANGEROUS WEAPONS OFNS_DESCFELONY ASSAULT\nBROOKLYN                       -2.694582              -3.8130744\nMANHATTAN                       1.347981               0.4896463\nQUEENS                          4.650627               4.1018737\nSTATEN ISLAND                   1.922723               1.3192364\n              OFNS_DESCFOR OTHER AUTHORITIES OFNS_DESCFORGERY OFNS_DESCFRAUDS\nBROOKLYN                          -4.4685234        -2.213307       -5.234425\nMANHATTAN                          0.2541088         3.100975       -2.996293\nQUEENS                           -11.9172782         4.865304      -12.429417\nSTATEN ISLAND                     -3.0867606        -2.582698        4.148601\n              OFNS_DESCGAMBLING OFNS_DESCGRAND LARCENY\nBROOKLYN              -3.600756              -1.983301\nMANHATTAN            -12.988477               1.829555\nQUEENS               -11.093505               3.212098\nSTATEN ISLAND         -7.763179               3.959566\n              OFNS_DESCGRAND LARCENY OF MOTOR VEHICLE OFNS_DESCHARRASSMENT 2\nBROOKLYN                                    -3.989540            -1.88080823\nMANHATTAN                                  -13.215488             2.59851506\nQUEENS                                      -9.182676            -0.08860018\nSTATEN ISLAND                                2.816785            -0.23857935\n              OFNS_DESCHOMICIDE-NEGLIGENT,UNCLASSIFIE\nBROOKLYN                                  -1.88080823\nMANHATTAN                                  2.59851506\nQUEENS                                    -0.08860018\nSTATEN ISLAND                             -0.23857935\n              OFNS_DESCINTOXICATED & IMPAIRED DRIVING\nBROOKLYN                                   -3.3678704\nMANHATTAN                                   0.8970642\nQUEENS                                      4.5793578\nSTATEN ISLAND                               0.5030909\n              OFNS_DESCINTOXICATED/IMPAIRED DRIVING\nBROOKLYN                                 9.51340115\nMANHATTAN                               -3.47669376\nQUEENS                                  -1.38906737\nSTATEN ISLAND                           -0.04257432\n              OFNS_DESCKIDNAPPING & RELATED OFFENSES\nBROOKLYN                                  7.76907156\nMANHATTAN                                -3.62951650\nQUEENS                                   -3.23552602\nSTATEN ISLAND                             0.08935855\n              OFNS_DESCMISCELLANEOUS PENAL LAW\nBROOKLYN                             -3.308168\nMANHATTAN                             1.472545\nQUEENS                                4.725227\nSTATEN ISLAND                         3.132129\n              OFNS_DESCMURDER & NON-NEGL. MANSLAUGHTE\nBROOKLYN                                   -4.6194542\nMANHATTAN                                   0.3550014\nQUEENS                                      5.2138069\nSTATEN ISLAND                              -6.2755695\n              OFNS_DESCNYS LAWS-UNCLASSIFIED FELONY\nBROOKLYN                                  -3.492195\nMANHATTAN                                -11.938423\nQUEENS                                     5.039218\nSTATEN ISLAND                             -5.756350\n              OFNS_DESCOFF. AGNST PUB ORD SENSBLTY &\nBROOKLYN                                  -4.2093926\nMANHATTAN                                  0.5358206\nQUEENS                                     3.0449111\nSTATEN ISLAND                             -4.4216863\n              OFNS_DESCOFFENSES AGAINST PUBLIC ADMINI\nBROOKLYN                                    -3.691392\nMANHATTAN                                    0.855199\nQUEENS                                       2.372726\nSTATEN ISLAND                                1.841734\n              OFNS_DESCOFFENSES AGAINST THE PERSON\nBROOKLYN                                 -3.793365\nMANHATTAN                                -0.770833\nQUEENS                                  -10.575724\nSTATEN ISLAND                             3.364396\n              OFNS_DESCOFFENSES INVOLVING FRAUD\nBROOKLYN                              -3.064854\nMANHATTAN                              2.415442\nQUEENS                               -11.477095\nSTATEN ISLAND                          2.909383\n              OFNS_DESCOTHER OFFENSES RELATED TO THEF OFNS_DESCOTHER STATE LAWS\nBROOKLYN                                     7.662265                 10.239124\nMANHATTAN                                   13.085895                 16.594447\nQUEENS                                      16.483556                 -2.879258\nSTATEN ISLAND                                5.375914                  1.091540\n              OFNS_DESCOTHER STATE LAWS (NON PENAL LA\nBROOKLYN                                    -5.624621\nMANHATTAN                                   12.965977\nQUEENS                                      -1.617776\nSTATEN ISLAND                               -0.199738\n              OFNS_DESCOTHER TRAFFIC INFRACTION OFNS_DESCPETIT LARCENY\nBROOKLYN                              -2.659233              -3.153541\nMANHATTAN                            -12.061717               1.186028\nQUEENS                                 5.192685               2.690120\nSTATEN ISLAND                          3.772165              -6.094685\n              OFNS_DESCPOSSESSION OF STOLEN PROPERTY OFNS_DESCRAPE\nBROOKLYN                                  -4.2643469    -2.1881134\nMANHATTAN                                 -0.2623194     0.7356188\nQUEENS                                     3.5399091     4.3999827\nSTATEN ISLAND                              2.7556775     3.0794828\n              OFNS_DESCROBBERY OFNS_DESCSEX CRIMES\nBROOKLYN             -3.452018           -2.605254\nMANHATTAN             1.363987            1.467735\nQUEENS                3.283629            4.769984\nSTATEN ISLAND        -8.781300            3.549472\n              OFNS_DESCUNAUTHORIZED USE OF A VEHICLE\nBROOKLYN                                   -4.601805\nMANHATTAN                                 -13.273329\nQUEENS                                      3.382233\nSTATEN ISLAND                              -4.354869\n              OFNS_DESCVEHICLE AND TRAFFIC LAWS STATISTICAL_MURDER_FLAGTRUE\nBROOKLYN                              -2.946093                  -0.7820746\nMANHATTAN                              1.191736                  -0.5757025\nQUEENS                                 5.867746                  -1.2109765\nSTATEN ISLAND                          2.792957                   0.4756664\n\nStd. Errors:\n              (Intercept) LOC_CLASSFCTN_DESCDWELLING LOC_CLASSFCTN_DESCHOUSING\nBROOKLYN         2.951500                  0.3293157                 0.4528975\nMANHATTAN        8.857252                  0.3794156                 0.4400561\nQUEENS          11.855579                  0.5605715                 0.5228155\nSTATEN ISLAND   28.158260                  0.9974192                29.0344212\n              LOC_CLASSFCTN_DESCOTHER LOC_CLASSFCTN_DESCPARKING LOT\nBROOKLYN                 6.358781e-08                     0.7596509\nMANHATTAN                3.987156e-01                     0.5560607\nQUEENS                   7.179495e-05                     0.7312205\nSTATEN ISLAND            1.253506e+02                     0.1085088\n              LOC_CLASSFCTN_DESCPLAYGROUND LOC_CLASSFCTN_DESCSTREET\nBROOKLYN                      6.685929e-01                0.2666536\nMANHATTAN                     7.880913e-05                0.2444464\nQUEENS                        1.228447e+00                0.3402541\nSTATEN ISLAND                 1.572004e+02                0.8655484\n              LOC_CLASSFCTN_DESCTRANSIT LOC_CLASSFCTN_DESCVEHICLE\nBROOKLYN                       1.259768              3.588927e-05\nMANHATTAN                      1.702279              1.383654e-09\nQUEENS                         1.376224              8.794983e-01\nSTATEN ISLAND                 38.947234              1.279164e-02\n              PERP_RACEBLACK PERP_RACEBLACK HISPANIC PERP_RACEWHITE\nBROOKLYN            1.013828                1.240519   3.202957e-08\nMANHATTAN           2.954075                2.962722   2.442500e-08\nQUEENS              9.609683                9.621443   3.704814e+01\nSTATEN ISLAND      13.385269               21.556817   3.704823e+01\n              PERP_RACEWHITE HISPANIC PERP_AGE_GROUP18-24 PERP_AGE_GROUP25-44\nBROOKLYN                     1.017125           0.2407564           0.2567850\nMANHATTAN                    2.955270           0.2461922           0.2560642\nQUEENS                       9.610764           0.2878970           0.3000674\nSTATEN ISLAND               16.541704           0.4215734           0.7762188\n              PERP_AGE_GROUP45-64 PERP_AGE_GROUP65+ VIC_AGE_GROUP18-24\nBROOKLYN                0.3890563      1.537207e-06          0.1761289\nMANHATTAN               0.3981154      6.931520e-07          0.2500089\nQUEENS                  0.5749505      5.873341e-06          0.2778752\nSTATEN ISLAND           0.6731332      1.758152e-03         17.1096297\n              VIC_AGE_GROUP25-44 VIC_AGE_GROUP45-64 VIC_AGE_GROUP65+\nBROOKLYN               0.1868417          0.2691324     5.924860e-01\nMANHATTAN              0.2545963          0.2985742     1.275646e-06\nQUEENS                 0.2909374          0.4061590     6.513327e-06\nSTATEN ISLAND         17.1103096         17.1161905     5.603086e-01\n              VIC_AGE_GROUPUNKNOWN VIC_RACEBLACK VIC_RACEBLACK HISPANIC\nBROOKLYN              9.275372e-04     0.5945874              0.6333720\nMANHATTAN             8.186505e-06     0.7076537              0.7433487\nQUEENS                3.925878e-06     0.7077718              0.7394094\nSTATEN ISLAND         7.694055e-07    28.5926334             48.2677331\n              VIC_RACEUNKNOWN VIC_RACEWHITE VIC_RACEWHITE HISPANIC\nBROOKLYN         9.275364e-04     0.8269810              0.6136193\nMANHATTAN        8.186465e-06     0.8517956              0.7268673\nQUEENS           3.925917e-06     1.1312314              0.7486450\nSTATEN ISLAND    7.694055e-07   123.1288222             33.9078839\n              OFNS_DESCALCOHOLIC BEVERAGE CONTROL LAW\nBROOKLYN                                  0.008848374\nMANHATTAN                                 0.006507624\nQUEENS                                    0.002590460\nSTATEN ISLAND                             0.005717858\n              OFNS_DESCASSAULT 3 & RELATED OFFENSES OFNS_DESCBURGLAR'S TOOLS\nBROOKLYN                                   3.865742              6.211995419\nMANHATTAN                                 11.784757              5.159167283\nQUEENS                                     9.927821              0.008386864\nSTATEN ISLAND                              8.864106              0.014965031\n              OFNS_DESCBURGLARY OFNS_DESCCANNABIS RELATED OFFENSES\nBROOKLYN              3.8907100                          3.0630601\nMANHATTAN            11.7909587                         87.1956462\nQUEENS                0.1085707                         83.1895735\nSTATEN ISLAND        59.6379610                          0.4110919\n              OFNS_DESCCHILD ABANDONMENT/NON SUPPORT\nBROOKLYN                                   94.343122\nMANHATTAN                                   3.404727\nQUEENS                                     92.726629\nSTATEN ISLAND                              88.961533\n              OFNS_DESCCRIMINAL MISCHIEF & RELATED OF\nBROOKLYN                                     3.873293\nMANHATTAN                                   11.787146\nQUEENS                                       9.933475\nSTATEN ISLAND                                8.906723\n              OFNS_DESCCRIMINAL TRESPASS OFNS_DESCDANGEROUS DRUGS\nBROOKLYN                        3.936446                 3.866536\nMANHATTAN                      11.807377                11.784491\nQUEENS                          9.957702                 9.931093\nSTATEN ISLAND                  43.380179                 8.858677\n              OFNS_DESCDANGEROUS WEAPONS OFNS_DESCFELONY ASSAULT\nBROOKLYN                        3.872897                3.868331\nMANHATTAN                      11.787484               11.785686\nQUEENS                          9.931219                9.928609\nSTATEN ISLAND                   8.879602                8.861646\n              OFNS_DESCFOR OTHER AUTHORITIES OFNS_DESCFORGERY OFNS_DESCFRAUDS\nBROOKLYN                          3.93268600         4.028987      3.99604922\nMANHATTAN                        11.80096210        11.835755     11.97565113\nQUEENS                            0.09337143        10.024701      0.05567465\nSTATEN ISLAND                    36.39416605        29.495469      8.93631331\n              OFNS_DESCGAMBLING OFNS_DESCGRAND LARCENY\nBROOKLYN              4.0216393               3.882244\nMANHATTAN             0.3952151              11.791835\nQUEENS                0.1489874               9.979665\nSTATEN ISLAND         0.7592275               8.879830\n              OFNS_DESCGRAND LARCENY OF MOTOR VEHICLE OFNS_DESCHARRASSMENT 2\nBROOKLYN                                    3.9699956           5.886246e+01\nMANHATTAN                                   0.1512345           5.879638e+01\nQUEENS                                      0.4519393           1.165362e+02\nSTATEN ISLAND                               8.9246135           3.814225e-06\n              OFNS_DESCHOMICIDE-NEGLIGENT,UNCLASSIFIE\nBROOKLYN                                 5.886246e+01\nMANHATTAN                                5.879638e+01\nQUEENS                                   1.165362e+02\nSTATEN ISLAND                            3.814225e-06\n              OFNS_DESCINTOXICATED & IMPAIRED DRIVING\nBROOKLYN                                     3.949458\nMANHATTAN                                   11.815044\nQUEENS                                       9.961334\nSTATEN ISLAND                               65.129017\n              OFNS_DESCINTOXICATED/IMPAIRED DRIVING\nBROOKLYN                               0.0066604336\nMANHATTAN                              0.0010458381\nQUEENS                                 0.0006186597\nSTATEN ISLAND                          0.0002489974\n              OFNS_DESCKIDNAPPING & RELATED OFFENSES\nBROOKLYN                                3.206902e-03\nMANHATTAN                               4.653508e-03\nQUEENS                                  1.314227e-03\nSTATEN ISLAND                           1.282223e-09\n              OFNS_DESCMISCELLANEOUS PENAL LAW\nBROOKLYN                              3.869217\nMANHATTAN                            11.785631\nQUEENS                                9.929189\nSTATEN ISLAND                         8.861721\n              OFNS_DESCMURDER & NON-NEGL. MANSLAUGHTE\nBROOKLYN                                     4.039504\nMANHATTAN                                   11.833297\nQUEENS                                       9.978467\nSTATEN ISLAND                               87.105464\n              OFNS_DESCNYS LAWS-UNCLASSIFIED FELONY\nBROOKLYN                                  3.9731151\nMANHATTAN                                 0.3847745\nQUEENS                                    9.9697175\nSTATEN ISLAND                           100.4575389\n              OFNS_DESCOFF. AGNST PUB ORD SENSBLTY &\nBROOKLYN                                    3.915338\nMANHATTAN                                  11.798397\nQUEENS                                      9.962789\nSTATEN ISLAND                              38.609735\n              OFNS_DESCOFFENSES AGAINST PUBLIC ADMINI\nBROOKLYN                                     3.873452\nMANHATTAN                                   11.787446\nQUEENS                                       9.944758\nSTATEN ISLAND                                8.873449\n              OFNS_DESCOFFENSES AGAINST THE PERSON\nBROOKLYN                                 3.9239016\nMANHATTAN                               11.8358576\nQUEENS                                   0.2145147\nSTATEN ISLAND                            8.9033708\n              OFNS_DESCOFFENSES INVOLVING FRAUD\nBROOKLYN                             3.89713495\nMANHATTAN                           11.79147978\nQUEENS                               0.09306089\nSTATEN ISLAND                        8.88500860\n              OFNS_DESCOTHER OFFENSES RELATED TO THEF OFNS_DESCOTHER STATE LAWS\nBROOKLYN                                     6.322559              5.690928e+00\nMANHATTAN                                    8.473908              5.643199e+00\nQUEENS                                       7.008843              1.257076e-04\nSTATEN ISLAND                                1.105098              1.528404e-07\n              OFNS_DESCOTHER STATE LAWS (NON PENAL LA\nBROOKLYN                                 0.0379815986\nMANHATTAN                                0.2380272153\nQUEENS                                   0.0015094372\nSTATEN ISLAND                            0.0007595514\n              OFNS_DESCOTHER TRAFFIC INFRACTION OFNS_DESCPETIT LARCENY\nBROOKLYN                              3.9230781               3.865699\nMANHATTAN                             0.2825846              11.785006\nQUEENS                                9.9530404               9.936396\nSTATEN ISLAND                         8.9133799              32.786516\n              OFNS_DESCPOSSESSION OF STOLEN PROPERTY OFNS_DESCRAPE\nBROOKLYN                                    3.920369      3.871629\nMANHATTAN                                  11.810450     11.790576\nQUEENS                                      9.958030      9.935399\nSTATEN ISLAND                               8.904518      8.867556\n              OFNS_DESCROBBERY OFNS_DESCSEX CRIMES\nBROOKLYN              3.875050            3.863811\nMANHATTAN            11.787180           11.784198\nQUEENS                9.939187            9.927201\nSTATEN ISLAND       132.092705            8.853128\n              OFNS_DESCUNAUTHORIZED USE OF A VEHICLE\nBROOKLYN                                   4.0099560\nMANHATTAN                                  0.1169506\nQUEENS                                     9.9917379\nSTATEN ISLAND                             83.0285714\n              OFNS_DESCVEHICLE AND TRAFFIC LAWS STATISTICAL_MURDER_FLAGTRUE\nBROOKLYN                               3.874650                   0.1484112\nMANHATTAN                             11.788050                   0.1556714\nQUEENS                                 9.929746                   0.2363697\nSTATEN ISLAND                          8.864815                   0.3833775\n\nResidual Deviance: 5757.563 \nAIC: 6293.563 \n\n\n\naccuracy &lt;- mean(predictions == test_data$BORO)\nprint(paste(\"Accuracy:\", accuracy))\n\n[1] \"Accuracy: 0.592896174863388\"\n\nconfusion_matrix &lt;- table(Predicted = predictions, Actual = test_data$BORO)\n\nlibrary(caret)\nconfusionMatrix(confusion_matrix)\n\nConfusion Matrix and Statistics\n\n               Actual\nPredicted       BRONX BROOKLYN MANHATTAN QUEENS STATEN ISLAND\n  BRONX           134       35        27     14             0\n  BROOKLYN         27      117        47     19             5\n  MANHATTAN        19       46       157     22             8\n  QUEENS            8       15         2     19             0\n  STATEN ISLAND     1        0         3      0             7\n\nOverall Statistics\n                                          \n               Accuracy : 0.5929          \n                 95% CI : (0.5563, 0.6287)\n    No Information Rate : 0.3224          \n    P-Value [Acc &gt; NIR] : &lt; 2.2e-16       \n                                          \n                  Kappa : 0.4369          \n                                          \n Mcnemar's Test P-Value : NA              \n\nStatistics by Class:\n\n                     Class: BRONX Class: BROOKLYN Class: MANHATTAN\nSensitivity                0.7090          0.5493           0.6653\nSpecificity                0.8600          0.8112           0.8085\nPos Pred Value             0.6381          0.5442           0.6230\nNeg Pred Value             0.8946          0.8143           0.8354\nPrevalence                 0.2582          0.2910           0.3224\nDetection Rate             0.1831          0.1598           0.2145\nDetection Prevalence       0.2869          0.2937           0.3443\nBalanced Accuracy          0.7845          0.6802           0.7369\n                     Class: QUEENS Class: STATEN ISLAND\nSensitivity                0.25676             0.350000\nSpecificity                0.96201             0.994382\nPos Pred Value             0.43182             0.636364\nNeg Pred Value             0.92006             0.981969\nPrevalence                 0.10109             0.027322\nDetection Rate             0.02596             0.009563\nDetection Prevalence       0.06011             0.015027\nBalanced Accuracy          0.60938             0.672191\n\n\n\n\nThe horizontal bar chart presents a breakdown of various types of offenses. The most frequent offense, represented by the longest bar, is “Vehicle and Traffic Laws,” suggesting a high number of incidents related to traffic violations. “Sex Crimes” and “Robbery” follow, indicating significant occurrence rates within the dataset. Offenses like “Rape” and “Petit Larceny” show lower counts but are still notable. Other categories, including “Offenses Involving Fraud,” “Offenses Against Public Administration,” and “Miscellaneous Penal Law,” display moderate counts. This variable could be instrumental for law enforcement prioritization and public awareness initiatives."
  },
  {
    "objectID": "exploratory_data_analysis.html#section-1.5-offense-descriptions",
    "href": "exploratory_data_analysis.html#section-1.5-offense-descriptions",
    "title": "Exploratory Data Analysis",
    "section": "",
    "text": "The horizontal bar chart presents a breakdown of various types of offenses. The most frequent offense, represented by the longest bar, is “Vehicle and Traffic Laws,” suggesting a high number of incidents related to traffic violations. “Sex Crimes” and “Robbery” follow, indicating significant occurrence rates within the dataset. Offenses like “Rape” and “Petit Larceny” show lower counts but are still notable. Other categories, including “Offenses Involving Fraud,” “Offenses Against Public Administration,” and “Miscellaneous Penal Law,” display moderate counts. This variable could be instrumental for law enforcement prioritization and public awareness initiatives."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "This is a website for the final project for MA[46]15 Data Science with R by Team 6. The members of this team are below."
  },
  {
    "objectID": "about.html#saisriram-gunturu",
    "href": "about.html#saisriram-gunturu",
    "title": "About",
    "section": "Saisriram Gunturu",
    "text": "Saisriram Gunturu\nSai is a senior majoring in Computer Science and graduating in 2024"
  },
  {
    "objectID": "about.html#yuqi-peng",
    "href": "about.html#yuqi-peng",
    "title": "About",
    "section": "Yuqi Peng",
    "text": "Yuqi Peng\nYoki is a senior majoring in Mathematics & Economics"
  },
  {
    "objectID": "about.html#shiyu-wang",
    "href": "about.html#shiyu-wang",
    "title": "About",
    "section": "Shiyu Wang",
    "text": "Shiyu Wang\nShiyu is a junior majoring in Business and minoring in Statistics"
  },
  {
    "objectID": "about.html#wanqing-zhao",
    "href": "about.html#wanqing-zhao",
    "title": "About",
    "section": "Wanqing Zhao",
    "text": "Wanqing Zhao\nWanqing is a senior majoring in Economics"
  },
  {
    "objectID": "about.html#moshe-rosenstock",
    "href": "about.html#moshe-rosenstock",
    "title": "About",
    "section": "Moshe Rosenstock",
    "text": "Moshe Rosenstock\nSenior Majoring in Data Science (minor Business)\n\n\nAbout this Template.\nThis is based off of the standard Quarto website template from RStudio (2023.09.0 Build 463)."
  },
  {
    "objectID": "big_picture.html#policing-poverty-the-hidden-truths-of-nycs-streets",
    "href": "big_picture.html#policing-poverty-the-hidden-truths-of-nycs-streets",
    "title": "Big Picture",
    "section": "Policing Poverty: The Hidden Truths of NYC’s Streets",
    "text": "Policing Poverty: The Hidden Truths of NYC’s Streets\nIn the bustling streets of New York City, amongst the skyscrapers and vibrant neighborhoods, lies a city divided. In some communities, the sound of police sirens is an ever-present echo, a stark reminder of the realities faced by those living in inequality. But why do certain neighborhoods experience higher rates of arrests and police-involved shootings than others?"
  },
  {
    "objectID": "big_picture.html#patterns-of-pain",
    "href": "big_picture.html#patterns-of-pain",
    "title": "Big Picture",
    "section": "Patterns of Pain",
    "text": "Patterns of Pain\nMapping offense data points across NYC, we witness the clustering of crime in certain neighborhoods, painting a vivid picture of communities besieged by violence. Overlaying this map with the racial demographics of perpetrators and victims further illuminates the disproportionate impact on black individuals, particularly young men."
  },
  {
    "objectID": "big_picture.html#crimes-of-desperation",
    "href": "big_picture.html#crimes-of-desperation",
    "title": "Big Picture",
    "section": "Crimes of Desperation",
    "text": "Crimes of Desperation\nExamining the most common crime descriptions, a troubling pattern emerges. Sex crimes, assault, and drug-related offenses dominate the landscape, pointing to the pervasive influence of poverty, addiction, and desperation within marginalized communities."
  },
  {
    "objectID": "big_picture.html#dollars-and-desperation",
    "href": "big_picture.html#dollars-and-desperation",
    "title": "Big Picture",
    "section": "Dollars and Desperation",
    "text": "Dollars and Desperation\nOverlaying maps of average salaries by borough with crime data points, we confront the harsh reality of economic disparities. In neighborhoods where salaries are lowest, crime rates soar—a testament to the profound impact of poverty on the social fabric of our city."
  }
]